{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fadhi\\\\Downloads\\\\Essentials\\\\ai_maker\\\\dragflow-nn-builder\\\\src\\\\components\\\\canvas\\\\Canvas.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport DropZone from './DropZone';\nimport InputLayer from '../layers/InputLayer';\nimport Conv2DLayer from '../layers/Conv2DLayer';\nimport OutputLayer from '../layers/OutputLayer';\nimport ConcatLayer from '../layers/ConcatLayer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst layerComponentMap = {\n  InputLayer: InputLayer,\n  Conv2DLayer: Conv2DLayer,\n  OutputLayer: OutputLayer,\n  ConcatLayer: ConcatLayer\n};\nconst defaultParams = {\n  InputLayer: {\n    inputShape: [28, 28, 1]\n  },\n  Conv2DLayer: {\n    filterSize: 3,\n    numFilters: 32,\n    activationFunction: 'relu'\n  },\n  OutputLayer: {\n    outputShape: [10],\n    activationFunction: 'softmax'\n  },\n  ConcatLayer: {\n    layers: []\n  }\n};\nconst Canvas = () => {\n  _s();\n  const [layers, setLayers] = useState([]);\n  const [connections, setConnections] = useState([]);\n  const [draggedId, setDraggedId] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [connecting, setConnecting] = useState({\n    from: null,\n    to: null\n  });\n  const [selectedLayerId, setSelectedLayerId] = useState(null);\n  const canvasRef = useRef(null);\n\n  // Keyboard event handler for deleting selected nodes\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Don't delete if user is typing in an input field\n      const activeElement = document.activeElement;\n      if (activeElement instanceof HTMLInputElement || activeElement instanceof HTMLTextAreaElement || activeElement instanceof HTMLSelectElement) {\n        return;\n      }\n      if ((e.key === 'Delete' || e.key === 'Backspace') && selectedLayerId !== null) {\n        // Remove the selected layer\n        setLayers(prev => prev.filter(l => l.id !== selectedLayerId));\n        // Remove all connections involving this layer\n        setConnections(prev => prev.filter(conn => conn.from !== selectedLayerId && conn.to !== selectedLayerId));\n        setSelectedLayerId(null);\n        e.preventDefault();\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [selectedLayerId]);\n\n  // Add new layer at a default position\n  const handleDrop = layer => {\n    // Only allow valid LayerType\n    if (!['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer'].includes(layer.type)) {\n      return;\n    }\n    const validLayerTypes = ['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer'];\n    const type = validLayerTypes.find(t => t === layer.type);\n    if (!type) {\n      return;\n    }\n    setLayers(prev => [...prev, {\n      ...layer,\n      type: type,\n      parameters: {\n        ...defaultParams[type]\n      },\n      x: 100 + prev.length * 40,\n      y: 60 + prev.length * 40\n    }]);\n  };\n\n  // Improved drag logic with input element detection and selection\n  const handleMouseDown = (id, e) => {\n    // Prevent dragging if clicking on input elements, labels, or select elements\n    const target = e.target;\n    if (target instanceof HTMLInputElement || target instanceof HTMLLabelElement || target instanceof HTMLSelectElement) {\n      return;\n    }\n\n    // Set selected layer\n    setSelectedLayerId(id);\n    if (!canvasRef.current) return;\n    const layer = layers.find(l => l.id === id);\n    if (!layer) return;\n    const rect = canvasRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n\n    // Calculate offset from mouse position to layer's top-left corner\n    const offsetX = mouseX - layer.x;\n    const offsetY = mouseY - layer.y;\n    setDraggedId(id);\n    setDragOffset({\n      x: offsetX,\n      y: offsetY\n    });\n    e.stopPropagation();\n  };\n\n  // Click outside to deselect\n  const handleCanvasClick = e => {\n    if (e.target === canvasRef.current) {\n      setSelectedLayerId(null);\n    }\n  };\n  const handleMouseUp = () => {\n    setDraggedId(null);\n    setDragOffset({\n      x: 0,\n      y: 0\n    });\n  };\n  const handleMouseMove = e => {\n    if (draggedId !== null && canvasRef.current) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      const mouseX = e.clientX - rect.left;\n      const mouseY = e.clientY - rect.top;\n\n      // Apply the offset to maintain relative position\n      const x = mouseX - dragOffset.x;\n      const y = mouseY - dragOffset.y;\n      setLayers(prev => prev.map(l => l.id === draggedId ? {\n        ...l,\n        x,\n        y\n      } : l));\n    }\n  };\n\n  // Inline parameter editing with proper type conversion\n  const handleParamChange = (id, param, value) => {\n    setLayers(prev => prev.map(l => {\n      if (l.id === id) {\n        let convertedValue = value;\n\n        // Convert numeric strings to numbers\n        if (!isNaN(Number(value)) && value.trim() !== '') {\n          convertedValue = Number(value);\n        }\n\n        // Handle array inputs (for inputShape, outputShape)\n        if (param.includes('Shape') && typeof value === 'string') {\n          try {\n            // Parse comma-separated values as array\n            convertedValue = value.split(',').map(v => Number(v.trim())).filter(v => !isNaN(v));\n          } catch {\n            convertedValue = value;\n          }\n        }\n        return {\n          ...l,\n          parameters: {\n            ...l.parameters,\n            [param]: convertedValue\n          }\n        };\n      }\n      return l;\n    }));\n  };\n\n  // Connection logic with disconnect functionality\n  const handleStartConnect = id => setConnecting({\n    from: id,\n    to: null\n  });\n  const handleEndConnect = id => {\n    if (connecting.from !== null && connecting.from !== id) {\n      // Check if connection already exists\n      const existingConnectionIndex = connections.findIndex(conn => conn.from === connecting.from && conn.to === id);\n      if (existingConnectionIndex !== -1) {\n        // Disconnect if connection exists\n        setConnections(prev => prev.filter((_, index) => index !== existingConnectionIndex));\n      } else {\n        // Connect if no connection exists\n        const fromId = connecting.from;\n        setConnections(prev => [...prev, {\n          from: fromId,\n          to: id\n        }]);\n      }\n      setConnecting({\n        from: null,\n        to: null\n      });\n    }\n  };\n\n  // Helper function to get layer center position for connection lines\n  const getLayerCenter = layer => {\n    return {\n      x: layer.x + 60,\n      // Half of minWidth (120)\n      y: layer.y + 50 // Approximate center height\n    };\n  };\n\n  // Render connection lines\n  const renderConnections = () => {\n    return connections.map((connection, index) => {\n      const fromLayer = layers.find(l => l.id === connection.from);\n      const toLayer = layers.find(l => l.id === connection.to);\n      if (!fromLayer || !toLayer) return null;\n      const from = getLayerCenter(fromLayer);\n      const to = getLayerCenter(toLayer);\n      return /*#__PURE__*/_jsxDEV(\"svg\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          pointerEvents: 'none',\n          zIndex: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          x1: from.x,\n          y1: from.y,\n          x2: to.x,\n          y2: to.y,\n          stroke: \"#007acc\",\n          strokeWidth: \"2\",\n          markerEnd: \"url(#arrowhead)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"defs\", {\n          children: /*#__PURE__*/_jsxDEV(\"marker\", {\n            id: \"arrowhead\",\n            markerWidth: \"10\",\n            markerHeight: \"7\",\n            refX: \"9\",\n            refY: \"3.5\",\n            orient: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n              points: \"0 0, 10 3.5, 0 7\",\n              fill: \"#007acc\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas\",\n    ref: canvasRef,\n    style: {\n      minHeight: 500,\n      border: '1px solid #444',\n      position: 'relative',\n      overflow: 'hidden',\n      backgroundColor: '#1e1e1e'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    onClick: handleCanvasClick,\n    tabIndex: 0 // Make canvas focusable for keyboard events\n    ,\n    children: [/*#__PURE__*/_jsxDEV(DropZone, {\n      onDrop: handleDrop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this), renderConnections(), layers.map(layer => {\n      const LayerComponent = layerComponentMap[layer.type];\n      if (!LayerComponent) return null;\n      const isSelected = selectedLayerId === layer.id;\n      const isConnecting = connecting.from === layer.id;\n\n      // Inline parameter editing UI for demo\n      const paramInputs = Object.keys(layer.parameters).map(param => {\n        const value = layer.parameters[param];\n        const displayValue = Array.isArray(value) ? value.join(', ') : String(value);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: '#ccc'\n            },\n            children: [param, \": \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              fontSize: 12,\n              width: 80,\n              backgroundColor: '#3a3a3a',\n              border: '1px solid #555',\n              color: '#ffffff',\n              padding: '2px 4px',\n              borderRadius: '2px'\n            },\n            value: displayValue,\n            onChange: e => handleParamChange(layer.id, param, e.target.value),\n            placeholder: param.includes('Shape') ? \"e.g. 28, 28, 1\" : \"\",\n            onMouseDown: e => e.stopPropagation(),\n            onFocus: e => e.stopPropagation()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this)]\n        }, param, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this);\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          left: layer.x,\n          top: layer.y,\n          background: isConnecting ? '#1e3a5f' : isSelected ? '#3a3a3a' : '#2d2d2d',\n          border: isConnecting ? '2px solid #007acc' : isSelected ? '2px solid #ff6b6b' : '2px solid #555',\n          borderRadius: 8,\n          padding: 12,\n          minWidth: 120,\n          cursor: 'move',\n          zIndex: draggedId === layer.id ? 2 : 1,\n          color: '#ffffff',\n          boxShadow: isSelected ? '0 0 10px rgba(255, 107, 107, 0.3)' : '0 2px 8px rgba(0, 0, 0, 0.3)',\n          userSelect: 'none',\n          WebkitUserSelect: 'none',\n          MozUserSelect: 'none',\n          msUserSelect: 'none'\n        },\n        onMouseDown: e => handleMouseDown(layer.id, e),\n        onDoubleClick: () => handleStartConnect(layer.id),\n        onMouseUp: () => handleEndConnect(layer.id),\n        children: [/*#__PURE__*/_jsxDEV(LayerComponent, {\n          ...layer.parameters\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            userSelect: 'none'\n          },\n          children: paramInputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 10,\n            color: '#888',\n            marginTop: 4,\n            userSelect: 'none'\n          },\n          children: isSelected ? 'Press Delete/Backspace to remove' : 'Double-click to start connection, then click another block'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: -8,\n            right: -8,\n            width: 16,\n            height: 16,\n            background: '#007acc',\n            borderRadius: '50%',\n            display: isConnecting ? 'block' : 'none',\n            boxShadow: '0 0 6px rgba(0, 122, 204, 0.5)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 25\n        }, this)]\n      }, layer.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n};\n_s(Canvas, \"9VVX9DnYID8BxyvB8a3pzcpxZZI=\");\n_c = Canvas;\nexport default Canvas;\nvar _c;\n$RefreshReg$(_c, \"Canvas\");","map":{"version":3,"names":["React","useState","useRef","useEffect","DropZone","InputLayer","Conv2DLayer","OutputLayer","ConcatLayer","jsxDEV","_jsxDEV","layerComponentMap","defaultParams","inputShape","filterSize","numFilters","activationFunction","outputShape","layers","Canvas","_s","setLayers","connections","setConnections","draggedId","setDraggedId","dragOffset","setDragOffset","x","y","connecting","setConnecting","from","to","selectedLayerId","setSelectedLayerId","canvasRef","handleKeyDown","e","activeElement","document","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","key","prev","filter","l","id","conn","preventDefault","addEventListener","removeEventListener","handleDrop","layer","includes","type","validLayerTypes","find","t","parameters","length","handleMouseDown","target","HTMLLabelElement","current","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","offsetX","offsetY","stopPropagation","handleCanvasClick","handleMouseUp","handleMouseMove","map","handleParamChange","param","value","convertedValue","isNaN","Number","trim","split","v","handleStartConnect","handleEndConnect","existingConnectionIndex","findIndex","_","index","fromId","getLayerCenter","renderConnections","connection","fromLayer","toLayer","style","position","width","height","pointerEvents","zIndex","children","x1","y1","x2","y2","stroke","strokeWidth","markerEnd","fileName","_jsxFileName","lineNumber","columnNumber","markerWidth","markerHeight","refX","refY","orient","points","fill","className","ref","minHeight","border","overflow","backgroundColor","onMouseMove","onMouseUp","onClick","tabIndex","onDrop","LayerComponent","isSelected","isConnecting","paramInputs","Object","keys","displayValue","Array","isArray","join","String","marginBottom","fontSize","color","padding","borderRadius","onChange","placeholder","onMouseDown","onFocus","background","minWidth","cursor","boxShadow","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","onDoubleClick","marginTop","right","display","_c","$RefreshReg$"],"sources":["C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/canvas/Canvas.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport DropZone from './DropZone';\nimport InputLayer from '../layers/InputLayer';\nimport Conv2DLayer from '../layers/Conv2DLayer';\nimport OutputLayer from '../layers/OutputLayer';\nimport ConcatLayer from '../layers/ConcatLayer';\n\ntype LayerType = 'InputLayer' | 'Conv2DLayer' | 'OutputLayer' | 'ConcatLayer';\n\ninterface LayerProps {\n    [key: string]: any;\n}\n\nconst layerComponentMap: Record<LayerType, React.ComponentType<LayerProps>> = {\n    InputLayer: InputLayer,\n    Conv2DLayer: Conv2DLayer,\n    OutputLayer: OutputLayer,\n    ConcatLayer: ConcatLayer,\n};\n\nconst defaultParams: Record<LayerType, Record<string, any>> = {\n    InputLayer: { inputShape: [28, 28, 1] },\n    Conv2DLayer: { filterSize: 3, numFilters: 32, activationFunction: 'relu' },\n    OutputLayer: { outputShape: [10], activationFunction: 'softmax' },\n    ConcatLayer: { layers: [] },\n};\n\ninterface DroppedLayer {\n    type: LayerType;\n    id: number;\n    parameters: Record<string, any>;\n    x: number;\n    y: number;\n    selected?: boolean;\n}\n\ninterface Connection {\n    from: number;\n    to: number;\n}\n\nconst Canvas: React.FC = () => {\n    const [layers, setLayers] = useState<DroppedLayer[]>([]);\n    const [connections, setConnections] = useState<Connection[]>([]);\n    const [draggedId, setDraggedId] = useState<number | null>(null);\n    const [dragOffset, setDragOffset] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\n    const [connecting, setConnecting] = useState<{ from: number | null, to: number | null }>({ from: null, to: null });\n    const [selectedLayerId, setSelectedLayerId] = useState<number | null>(null);\n    const canvasRef = useRef<HTMLDivElement>(null);\n\n    // Keyboard event handler for deleting selected nodes\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            // Don't delete if user is typing in an input field\n            const activeElement = document.activeElement;\n            if (activeElement instanceof HTMLInputElement || \n                activeElement instanceof HTMLTextAreaElement || \n                activeElement instanceof HTMLSelectElement) {\n                return;\n            }\n\n            if ((e.key === 'Delete' || e.key === 'Backspace') && selectedLayerId !== null) {\n                // Remove the selected layer\n                setLayers(prev => prev.filter(l => l.id !== selectedLayerId));\n                // Remove all connections involving this layer\n                setConnections(prev => prev.filter(\n                    conn => conn.from !== selectedLayerId && conn.to !== selectedLayerId\n                ));\n                setSelectedLayerId(null);\n                e.preventDefault();\n            }\n        };\n\n        document.addEventListener('keydown', handleKeyDown);\n        return () => document.removeEventListener('keydown', handleKeyDown);\n    }, [selectedLayerId]);\n\n    // Add new layer at a default position\n    const handleDrop = (layer: { type: string; id: number }) => {\n        // Only allow valid LayerType\n        if (!['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer'].includes(layer.type)) {\n            return;\n        }\n        \n        const validLayerTypes: LayerType[] = ['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer'];\n        const type = validLayerTypes.find(t => t === layer.type);\n        \n        if (!type) {\n            return;\n        }\n        \n        setLayers(prev => [\n            ...prev,\n            {\n                ...layer,\n                type: type,\n                parameters: { ...defaultParams[type] },\n                x: 100 + prev.length * 40,\n                y: 60 + prev.length * 40,\n            },\n        ]);\n    };\n\n    // Improved drag logic with input element detection and selection\n    const handleMouseDown = (id: number, e: React.MouseEvent) => {\n        // Prevent dragging if clicking on input elements, labels, or select elements\n        const target = e.target;\n        if (target instanceof HTMLInputElement || \n            target instanceof HTMLLabelElement || \n            target instanceof HTMLSelectElement) {\n            return;\n        }\n\n        // Set selected layer\n        setSelectedLayerId(id);\n\n        if (!canvasRef.current) return;\n        \n        const layer = layers.find(l => l.id === id);\n        if (!layer) return;\n        \n        const rect = canvasRef.current.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        \n        // Calculate offset from mouse position to layer's top-left corner\n        const offsetX = mouseX - layer.x;\n        const offsetY = mouseY - layer.y;\n        \n        setDraggedId(id);\n        setDragOffset({ x: offsetX, y: offsetY });\n        e.stopPropagation();\n    };\n\n    // Click outside to deselect\n    const handleCanvasClick = (e: React.MouseEvent) => {\n        if (e.target === canvasRef.current) {\n            setSelectedLayerId(null);\n        }\n    };\n\n    const handleMouseUp = () => {\n        setDraggedId(null);\n        setDragOffset({ x: 0, y: 0 });\n    };\n\n    const handleMouseMove = (e: React.MouseEvent) => {\n        if (draggedId !== null && canvasRef.current) {\n            const rect = canvasRef.current.getBoundingClientRect();\n            const mouseX = e.clientX - rect.left;\n            const mouseY = e.clientY - rect.top;\n            \n            // Apply the offset to maintain relative position\n            const x = mouseX - dragOffset.x;\n            const y = mouseY - dragOffset.y;\n            \n            setLayers(prev => prev.map(l => l.id === draggedId ? { ...l, x, y } : l));\n        }\n    };\n\n    // Inline parameter editing with proper type conversion\n    const handleParamChange = (id: number, param: string, value: string) => {\n        setLayers(prev => prev.map(l => {\n            if (l.id === id) {\n                let convertedValue: any = value;\n                \n                // Convert numeric strings to numbers\n                if (!isNaN(Number(value)) && value.trim() !== '') {\n                    convertedValue = Number(value);\n                }\n                \n                // Handle array inputs (for inputShape, outputShape)\n                if (param.includes('Shape') && typeof value === 'string') {\n                    try {\n                        // Parse comma-separated values as array\n                        convertedValue = value.split(',').map(v => Number(v.trim())).filter(v => !isNaN(v));\n                    } catch {\n                        convertedValue = value;\n                    }\n                }\n                \n                return { ...l, parameters: { ...l.parameters, [param]: convertedValue } };\n            }\n            return l;\n        }));\n    };\n\n    // Connection logic with disconnect functionality\n    const handleStartConnect = (id: number) => setConnecting({ from: id, to: null });\n    const handleEndConnect = (id: number) => {\n        if (connecting.from !== null && connecting.from !== id) {\n            // Check if connection already exists\n            const existingConnectionIndex = connections.findIndex(\n                conn => conn.from === connecting.from && conn.to === id\n            );\n            \n            if (existingConnectionIndex !== -1) {\n                // Disconnect if connection exists\n                setConnections(prev => prev.filter((_, index) => index !== existingConnectionIndex));\n            } else {\n                // Connect if no connection exists\n                const fromId = connecting.from;\n                setConnections(prev => [...prev, { from: fromId, to: id }]);\n            }\n            \n            setConnecting({ from: null, to: null });\n        }\n    };\n\n    // Helper function to get layer center position for connection lines\n    const getLayerCenter = (layer: DroppedLayer) => {\n        return {\n            x: layer.x + 60, // Half of minWidth (120)\n            y: layer.y + 50  // Approximate center height\n        };\n    };\n\n    // Render connection lines\n    const renderConnections = () => {\n        return connections.map((connection, index) => {\n            const fromLayer = layers.find(l => l.id === connection.from);\n            const toLayer = layers.find(l => l.id === connection.to);\n            \n            if (!fromLayer || !toLayer) return null;\n            \n            const from = getLayerCenter(fromLayer);\n            const to = getLayerCenter(toLayer);\n            \n            return (\n                <svg\n                    key={index}\n                    style={{\n                        position: 'absolute',\n                        top: 0,\n                        left: 0,\n                        width: '100%',\n                        height: '100%',\n                        pointerEvents: 'none',\n                        zIndex: 0\n                    }}\n                >\n                    <line\n                        x1={from.x}\n                        y1={from.y}\n                        x2={to.x}\n                        y2={to.y}\n                        stroke=\"#007acc\"\n                        strokeWidth=\"2\"\n                        markerEnd=\"url(#arrowhead)\"\n                    />\n                    <defs>\n                        <marker\n                            id=\"arrowhead\"\n                            markerWidth=\"10\"\n                            markerHeight=\"7\"\n                            refX=\"9\"\n                            refY=\"3.5\"\n                            orient=\"auto\"\n                        >\n                            <polygon\n                                points=\"0 0, 10 3.5, 0 7\"\n                                fill=\"#007acc\"\n                            />\n                        </marker>\n                    </defs>\n                </svg>\n            );\n        });\n    };\n\n    return (\n        <div\n            className=\"canvas\"\n            ref={canvasRef}\n            style={{ \n                minHeight: 500, \n                border: '1px solid #444', \n                position: 'relative', \n                overflow: 'hidden',\n                backgroundColor: '#1e1e1e'\n            }}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onClick={handleCanvasClick}\n            tabIndex={0} // Make canvas focusable for keyboard events\n        >\n            <DropZone onDrop={handleDrop} />\n            \n            {/* Render connection lines */}\n            {renderConnections()}\n            \n            {/* Render blocks */}\n            {layers.map((layer) => {\n                const LayerComponent = layerComponentMap[layer.type];\n                if (!LayerComponent) return null;\n                \n                const isSelected = selectedLayerId === layer.id;\n                const isConnecting = connecting.from === layer.id;\n                \n                // Inline parameter editing UI for demo\n                const paramInputs = Object.keys(layer.parameters).map(param => {\n                    const value = layer.parameters[param];\n                    const displayValue = Array.isArray(value) ? value.join(', ') : String(value);\n                    \n                    return (\n                        <div key={param} style={{ marginBottom: 4 }}>\n                            <label style={{ fontSize: 12, color: '#ccc' }}>{param}: </label>\n                            <input\n                                style={{ \n                                    fontSize: 12, \n                                    width: 80,\n                                    backgroundColor: '#3a3a3a',\n                                    border: '1px solid #555',\n                                    color: '#ffffff',\n                                    padding: '2px 4px',\n                                    borderRadius: '2px'\n                                }}\n                                value={displayValue}\n                                onChange={e => handleParamChange(layer.id, param, e.target.value)}\n                                placeholder={param.includes('Shape') ? \"e.g. 28, 28, 1\" : \"\"}\n                                onMouseDown={(e) => e.stopPropagation()}\n                                onFocus={(e) => e.stopPropagation()}\n                            />\n                        </div>\n                    );\n                });\n                \n                return (\n                    <div\n                        key={layer.id}\n                        style={{\n                            position: 'absolute',\n                            left: layer.x,\n                            top: layer.y,\n                            background: isConnecting ? '#1e3a5f' : isSelected ? '#3a3a3a' : '#2d2d2d',\n                            border: isConnecting ? '2px solid #007acc' : isSelected ? '2px solid #ff6b6b' : '2px solid #555',\n                            borderRadius: 8,\n                            padding: 12,\n                            minWidth: 120,\n                            cursor: 'move',\n                            zIndex: draggedId === layer.id ? 2 : 1,\n                            color: '#ffffff',\n                            boxShadow: isSelected ? '0 0 10px rgba(255, 107, 107, 0.3)' : '0 2px 8px rgba(0, 0, 0, 0.3)',\n                            userSelect: 'none',\n                            WebkitUserSelect: 'none',\n                            MozUserSelect: 'none',\n                            msUserSelect: 'none'\n                        }}\n                        onMouseDown={e => handleMouseDown(layer.id, e)}\n                        onDoubleClick={() => handleStartConnect(layer.id)}\n                        onMouseUp={() => handleEndConnect(layer.id)}\n                    >\n                        <LayerComponent {...layer.parameters} />\n                        <div style={{ marginTop: 8, userSelect: 'none' }}>{paramInputs}</div>\n                        <div style={{ \n                            fontSize: 10, \n                            color: '#888', \n                            marginTop: 4,\n                            userSelect: 'none'\n                        }}>\n                            {isSelected ? 'Press Delete/Backspace to remove' : 'Double-click to start connection, then click another block'}\n                        </div>\n                        \n                        {/* Connection indicators */}\n                        <div style={{ \n                            position: 'absolute', \n                            top: -8, \n                            right: -8, \n                            width: 16, \n                            height: 16, \n                            background: '#007acc', \n                            borderRadius: '50%',\n                            display: isConnecting ? 'block' : 'none',\n                            boxShadow: '0 0 6px rgba(0, 122, 204, 0.5)'\n                        }} />\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default Canvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}