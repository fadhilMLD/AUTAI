{"code":"(this[\"webpackJsonpdragflow-nn-builder\"]=this[\"webpackJsonpdragflow-nn-builder\"]||[]).push([[0],{10:function(e,t,o){},12:function(e,t,o){\"use strict\";o.r(t);var n=o(1),r=o.n(n),i=o(4),c=o.n(i),a=(o(9),o(10),o(2)),l=o(0);const s={InputLayer:e=>{let{inputShape:t=[28,28,1]}=e;return Object(l.jsxs)(\"div\",{style:{userSelect:\"none\"},children:[Object(l.jsx)(\"h4\",{style:{margin:0,fontSize:14,color:\"#ffffff\",userSelect:\"none\"},children:\"Input Layer\"}),Object(l.jsxs)(\"div\",{style:{fontSize:12,color:\"#ccc\",userSelect:\"none\"},children:[\"Shape: [\",t.join(\", \"),\"]\"]})]})},Conv2DLayer:e=>{let{filterSize:t=3,numFilters:o=32,activationFunction:r=\"relu\"}=e;const[i,c]=Object(n.useState)(t),[a,s]=Object(n.useState)(o),[d,p]=Object(n.useState)(r);return Object(l.jsxs)(\"div\",{className:\"conv2d-layer\",style:{userSelect:\"none\"},children:[Object(l.jsx)(\"h3\",{style:{color:\"#ffffff\",margin:0,fontSize:14,userSelect:\"none\"},children:\"Conv2D Layer\"}),Object(l.jsxs)(\"div\",{style:{marginTop:8,userSelect:\"none\"},children:[Object(l.jsx)(\"label\",{style:{color:\"#ccc\",fontSize:12,userSelect:\"none\"},children:\"Filter Size:\"}),Object(l.jsx)(\"input\",{type:\"number\",value:i,onChange:e=>{c(Number(e.target.value))},style:{backgroundColor:\"#3a3a3a\",border:\"1px solid #555\",color:\"#ffffff\",padding:\"2px 4px\",borderRadius:\"2px\",width:\"60px\",marginLeft:\"4px\"}})]}),Object(l.jsxs)(\"div\",{style:{marginTop:4,userSelect:\"none\"},children:[Object(l.jsx)(\"label\",{style:{color:\"#ccc\",fontSize:12,userSelect:\"none\"},children:\"Number of Filters:\"}),Object(l.jsx)(\"input\",{type:\"number\",value:a,onChange:e=>{s(Number(e.target.value))},style:{backgroundColor:\"#3a3a3a\",border:\"1px solid #555\",color:\"#ffffff\",padding:\"2px 4px\",borderRadius:\"2px\",width:\"60px\",marginLeft:\"4px\"}})]}),Object(l.jsxs)(\"div\",{style:{marginTop:4,userSelect:\"none\"},children:[Object(l.jsx)(\"label\",{style:{color:\"#ccc\",fontSize:12,userSelect:\"none\"},children:\"Activation Function:\"}),Object(l.jsxs)(\"select\",{value:d,onChange:e=>{p(e.target.value)},style:{backgroundColor:\"#3a3a3a\",border:\"1px solid #555\",color:\"#ffffff\",padding:\"2px 4px\",borderRadius:\"2px\",marginLeft:\"4px\"},children:[Object(l.jsx)(\"option\",{value:\"relu\",children:\"ReLU\"}),Object(l.jsx)(\"option\",{value:\"sigmoid\",children:\"Sigmoid\"}),Object(l.jsx)(\"option\",{value:\"tanh\",children:\"Tanh\"})]})]}),Object(l.jsxs)(\"div\",{style:{fontSize:12,color:\"#888\",marginTop:8,userSelect:\"none\"},children:[Object(l.jsxs)(\"div\",{children:[\"Filters: \",a]}),Object(l.jsxs)(\"div\",{children:[\"Size: \",i,\"x\",i]}),Object(l.jsxs)(\"div\",{children:[\"Activation: \",d]})]})]})},OutputLayer:e=>{let{outputShape:t=[10],activationFunction:o=\"softmax\"}=e;return Object(l.jsxs)(\"div\",{style:{userSelect:\"none\"},children:[Object(l.jsx)(\"h4\",{style:{margin:0,fontSize:14,color:\"#ffffff\",userSelect:\"none\"},children:\"Output Layer\"}),Object(l.jsxs)(\"div\",{style:{fontSize:12,color:\"#ccc\",userSelect:\"none\"},children:[Object(l.jsxs)(\"div\",{children:[\"Shape: [\",t.join(\", \"),\"]\"]}),Object(l.jsxs)(\"div\",{children:[\"Activation: \",o]})]})]})},ConcatLayer:e=>{let{layers:t=[]}=e;return Object(l.jsxs)(\"div\",{style:{userSelect:\"none\"},children:[Object(l.jsx)(\"h4\",{style:{margin:0,fontSize:14,color:\"#ffffff\",userSelect:\"none\"},children:\"Concat Layer\"}),Object(l.jsxs)(\"div\",{style:{fontSize:12,color:\"#ccc\",userSelect:\"none\"},children:[\"Inputs: \",t.length]})]})},LinearLayer:e=>{let{inputSize:t=128,outputSize:o=64,bias:n=!0,activation:r=\"none\"}=e;return Object(l.jsxs)(\"div\",{style:{padding:\"8px\",backgroundColor:\"#2a2a2a\",borderRadius:\"4px\",minWidth:\"120px\",textAlign:\"center\"},children:[Object(l.jsx)(\"div\",{style:{fontWeight:\"bold\",marginBottom:\"4px\",color:\"#4caf50\"},children:\"Linear Layer\"}),Object(l.jsxs)(\"div\",{style:{fontSize:\"12px\",color:\"#ccc\"},children:[\"Input: \",t]}),Object(l.jsxs)(\"div\",{style:{fontSize:\"12px\",color:\"#ccc\"},children:[\"Output: \",o]}),Object(l.jsxs)(\"div\",{style:{fontSize:\"10px\",color:\"#888\",marginTop:\"4px\"},children:[\"Bias: \",n?\"Yes\":\"No\"]}),\"none\"!==r&&Object(l.jsxs)(\"div\",{style:{fontSize:\"10px\",color:\"#888\"},children:[\"Activation: \",r]})]})},FlattenLayer:e=>{let{startDim:t=1,endDim:o=-1}=e;return Object(l.jsxs)(\"div\",{style:{padding:\"8px\",backgroundColor:\"#2a2a2a\",borderRadius:\"4px\",minWidth:\"120px\",textAlign:\"center\"},children:[Object(l.jsx)(\"div\",{style:{fontWeight:\"bold\",marginBottom:\"4px\",color:\"#ff9800\"},children:\"Flatten Layer\"}),Object(l.jsx)(\"div\",{style:{fontSize:\"12px\",color:\"#ccc\"},children:\"Reshape to 1D\"}),Object(l.jsxs)(\"div\",{style:{fontSize:\"10px\",color:\"#888\",marginTop:\"4px\"},children:[\"Start Dim: \",t]}),Object(l.jsxs)(\"div\",{style:{fontSize:\"10px\",color:\"#888\"},children:[\"End Dim: \",-1===o?\"Last\":o]})]})},MaxPoolLayer:e=>{let{poolSize:t=2,stride:o=2,padding:n=\"valid\"}=e;return Object(l.jsxs)(\"div\",{style:{padding:\"8px\",backgroundColor:\"#2a2a2a\",borderRadius:\"4px\",minWidth:\"120px\",textAlign:\"center\"},children:[Object(l.jsx)(\"div\",{style:{fontWeight:\"bold\",marginBottom:\"4px\",color:\"#42a5f5\"},children:\"MaxPool Layer\"}),Object(l.jsxs)(\"div\",{style:{fontSize:\"12px\",color:\"#ccc\"},children:[\"Pool Size: \",t,\"\\xd7\",t]}),Object(l.jsxs)(\"div\",{style:{fontSize:\"12px\",color:\"#ccc\"},children:[\"Stride: \",o]}),Object(l.jsxs)(\"div\",{style:{fontSize:\"10px\",color:\"#888\",marginTop:\"4px\"},children:[\"Padding: \",n]})]})}},d={InputLayer:{inputShape:[28,28,1]},Conv2DLayer:{filterSize:3,numFilters:32,activationFunction:\"relu\"},OutputLayer:{outputShape:[10],activationFunction:\"softmax\"},ConcatLayer:{layers:[]},LinearLayer:{inputSize:128,outputSize:64,bias:!0,activation:\"relu\"},FlattenLayer:{startDim:1,endDim:-1},MaxPoolLayer:{poolSize:2,stride:2,padding:\"valid\"}};var p=r.a.forwardRef((e,t)=>{const[o,i]=Object(n.useState)([]),[c,p]=Object(n.useState)([]),[f,u]=Object(n.useState)(null),[x,b]=Object(n.useState)({x:0,y:0}),[j,y]=Object(n.useState)({from:null,to:null}),[h,g]=Object(n.useState)(null),[m,O]=Object(n.useState)(null),[v,S]=Object(n.useState)(null),[L,k]=Object(n.useState)({x:0,y:0,scale:1}),[C,w]=Object(n.useState)(!1),[z,E]=Object(n.useState)({x:0,y:0}),D=Object(n.useRef)(null),M=Object(n.useRef)(null);Object(n.useEffect)(()=>{const e=e=>{const t=document.activeElement;t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||\"Delete\"!==e.key&&\"Backspace\"!==e.key||null===h||(i(e=>e.filter(e=>e.id!==h)),p(e=>e.filter(e=>e.from!==h&&e.to!==h)),g(null),e.preventDefault())};return document.addEventListener(\"keydown\",e),()=>document.removeEventListener(\"keydown\",e)},[h]);const R=Object(n.useCallback)(e=>{if(e.cancelable&&e.preventDefault(),!D.current)return;const t=D.current.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,r=-.001*e.deltaY,i=Math.max(.1,Math.min(3,L.scale+r)),c=o-(o-L.x)*(i/L.scale),a=n-(n-L.y)*(i/L.scale);k({x:c,y:a,scale:i})},[L]),I=Object(n.useCallback)(e=>{(1===e.button||0===e.button&&e.ctrlKey)&&(e.preventDefault(),w(!0),E({x:e.clientX-L.x,y:e.clientY-L.y}))},[L]),T=Object(n.useCallback)(e=>{C&&(e.preventDefault(),k(t=>Object(a.a)(Object(a.a)({},t),{},{x:e.clientX-z.x,y:e.clientY-z.y})))},[C,z]),F=Object(n.useCallback)(()=>{w(!1)},[]),N=Object(n.useCallback)(()=>{k({x:0,y:0,scale:1})},[]),P=Object(n.useCallback)((e,t)=>({x:(e-L.x)/L.scale,y:(t-L.y)/L.scale}),[L]),W=Object(n.useCallback)((e,t)=>({x:e*L.scale+L.x,y:t*L.scale+L.y}),[L]),B=(e,t,o)=>{console.log(\"Connection start:\",{id:e,type:t}),o.preventDefault(),o.stopPropagation(),\"output\"===t&&(y({from:e,to:null}),console.log(\"Started connecting from node:\",e))},A=(e,t,o)=>{if(console.log(\"Connection end:\",{id:e,type:t,connectingFrom:j.from}),o.preventDefault(),o.stopPropagation(),\"input\"===t&&null!==j.from&&j.from!==e){const t=c.findIndex(t=>t.from===j.from&&t.to===e);if(-1!==t)console.log(\"Removing existing connection\"),p(e=>e.filter((e,o)=>o!==t));else{console.log(\"Creating new connection from\",j.from,\"to\",e);const t=j.from;p(o=>[...o,{from:t,to:e}])}}y({from:null,to:null}),O(null),S(null)},Y=()=>({layers:o.map(e=>({id:e.id,type:e.type,parameters:e.parameters,position:{x:e.x,y:e.y}})),connections:c.map(e=>({from:e.from,to:e.to}))});r.a.useImperativeHandle(t,()=>({getModelData:Y}));Object(n.useCallback)((e,t)=>{if(t){const o=t.offsetWidth;i(t=>{const n=t.find(t=>t.id===e);return n&&n.width!==o?t.map(t=>t.id===e?Object(a.a)(Object(a.a)({},t),{},{width:o}):t):t})}},[]);Object(n.useEffect)(()=>{o.forEach(e=>{if(!e.width){const t=document.querySelector('[data-layer-id=\"'.concat(e.id,'\"]'));if(t&&t instanceof HTMLDivElement){const o=t.offsetWidth;i(t=>t.map(t=>t.id===e.id?Object(a.a)(Object(a.a)({},t),{},{width:o}):t))}}})},[o.length]);const U=(e,t)=>{if(\"input\"===t)return{x:e.x-8,y:e.y+50};{const t=e.width||270;return{x:e.x+t+8,y:e.y+50}}};return Object(l.jsxs)(\"div\",{className:\"canvas\",ref:D,style:{height:\"100%\",width:\"100%\",border:\"1px solid #000000ff\",position:\"relative\",overflow:\"hidden\",backgroundColor:\"#171717ff\",cursor:C?\"grabbing\":null!==j.from?\"crosshair\":\"default\"},onWheel:R,onMouseDown:I,onMouseMove:e=>{if(!D.current)return;const t=D.current.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,c=P(n,r);if(T(e),null!==f&&!C){const e=c.x-x.x,t=c.y-x.y;i(o=>o.map(o=>o.id===f?Object(a.a)(Object(a.a)({},o),{},{x:e,y:t}):o))}if(null!==j.from){const e=o.find(e=>e.id===j.from);if(e){const t=U(e,\"output\"),i=W(t.x,t.y);let c=null,a=30;if(o.forEach(e=>{if(e.id!==j.from){const t=U(e,\"input\"),o=W(t.x,t.y),i=Math.sqrt(Math.pow(n-o.x,2)+Math.pow(r-o.y,2));i<a&&(a=i,c=e.id)}}),S(c),c){const e=o.find(e=>e.id===c);if(e){const t=U(e,\"input\"),o=W(t.x,t.y);O({from:i,to:o})}}else O({from:i,to:{x:n,y:r}})}}},onMouseUp:()=>{u(null),b({x:0,y:0}),F(),null!==j.from&&(y({from:null,to:null}),O(null),S(null))},onClick:e=>{e.target===D.current&&g(null)},onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();try{var t;const o=e.dataTransfer.getData(\"text/plain\"),n=JSON.parse(o),r=null===(t=D.current)||void 0===t?void 0:t.getBoundingClientRect();if(r){const t=e.clientX-r.left,o=e.clientY-r.top;(e=>{if(![\"InputLayer\",\"Conv2DLayer\",\"OutputLayer\",\"ConcatLayer\",\"LinearLayer\",\"FlattenLayer\",\"MaxPoolLayer\"].includes(e.type))return;const t=[\"InputLayer\",\"Conv2DLayer\",\"OutputLayer\",\"ConcatLayer\",\"LinearLayer\",\"FlattenLayer\",\"MaxPoolLayer\"].find(t=>t===e.type);if(!t)return;let o=100,n=100;if(void 0!==e.x&&void 0!==e.y){const t=P(e.x,e.y);o=t.x,n=t.y}i(r=>[...r,Object(a.a)(Object(a.a)({},e),{},{type:t,parameters:Object(a.a)({},d[t]),x:o,y:n})])})(Object(a.a)(Object(a.a)({},n),{},{x:t-60,y:o-50}))}}catch(o){console.error(\"Failed to parse dropped data:\",o)}},tabIndex:0,children:[Object(l.jsxs)(\"div\",{style:{position:\"absolute\",top:10,right:10,zIndex:200,display:\"flex\",flexDirection:\"column\",gap:5,background:\"#0b0b0bff\",padding:8,borderRadius:7,border:\"1px solid #555\"},children:[Object(l.jsx)(\"button\",{onClick:()=>k(e=>Object(a.a)(Object(a.a)({},e),{},{scale:Math.min(3,1.2*e.scale)})),style:{background:\"#3a3a3a\",border:\"1px solid #555\",color:\"#fff\",padding:\"4px 8px\",borderRadius:2,cursor:\"pointer\"},children:\"+\"}),Object(l.jsx)(\"button\",{onClick:()=>k(e=>Object(a.a)(Object(a.a)({},e),{},{scale:Math.max(.1,e.scale/1.2)})),style:{background:\"#3a3a3a\",border:\"1px solid #555\",color:\"#fff\",padding:\"4px 8px\",borderRadius:2,cursor:\"pointer\"},children:\"-\"}),Object(l.jsx)(\"button\",{onClick:N,style:{background:\"#3a3a3a\",border:\"1px solid #555\",color:\"#fff\",padding:\"4px 8px\",borderRadius:2,cursor:\"pointer\",fontSize:10},children:\"Reset\"}),Object(l.jsxs)(\"div\",{style:{color:\"#ccc\",fontSize:10,textAlign:\"center\"},children:[Math.round(100*L.scale),\"%\"]})]}),Object(l.jsxs)(\"div\",{style:{position:\"absolute\",bottom:10,left:10,color:\"#888\",fontSize:11,background:\"rgba(45, 45, 45, 0.8)\",padding:\"4px 8px\",borderRadius:4,zIndex:200},children:[\"Scroll to zoom \\u2022 Ctrl+Click or Middle-click to pan\",Object(l.jsx)(\"br\",{}),\"Click red dot then green dot to connect nodes\"]}),Object(l.jsx)(\"div\",{ref:M,style:{transform:\"translate(\".concat(L.x,\"px, \").concat(L.y,\"px) scale(\").concat(L.scale,\")\"),transformOrigin:\"0 0\",position:\"absolute\",width:\"100%\",height:\"100%\",zIndex:10,pointerEvents:\"auto\"},children:o.map(e=>{const t=s[e.type];if(!t)return null;const n=h===e.id,r=j.from===e.id,c=v===e.id,d=Object.keys(e.parameters).map(t=>{const o=e.parameters[t],n=Array.isArray(o)?o.join(\", \"):String(o);return Object(l.jsxs)(\"div\",{style:{marginBottom:4},children:[Object(l.jsxs)(\"label\",{style:{fontSize:12,color:\"#ccc\"},children:[t,\": \"]}),Object(l.jsx)(\"input\",{style:{fontSize:12,width:80,backgroundColor:\"#3a3a3a\",border:\"1px solid #555\",color:\"#ffffff\",padding:\"2px 4px\",borderRadius:\"2px\"},value:n,onChange:o=>((e,t,o)=>{i(n=>n.map(n=>{if(n.id===e){let e=o;if(isNaN(Number(o))||\"\"===o.trim()||(e=Number(o)),t.includes(\"Shape\")&&\"string\"===typeof o)try{e=o.split(\",\").map(e=>Number(e.trim())).filter(e=>!isNaN(e))}catch(r){e=o}return Object(a.a)(Object(a.a)({},n),{},{parameters:Object(a.a)(Object(a.a)({},n.parameters),{},{[t]:e})})}return n}))})(e.id,t,o.target.value),placeholder:t.includes(\"Shape\")?\"e.g. 28, 28, 1\":\"\",onMouseDown:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation()})]},t)});return Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"div\",{style:{position:\"absolute\",left:e.x-8,top:e.y+42,width:16,height:16,backgroundColor:c?\"#81c784\":\"#4caf50\",borderRadius:\"50%\",border:\"2px solid #ffffff\",cursor:\"pointer\",zIndex:100,boxShadow:c?\"0 0 8px rgba(129, 199, 132, 0.8)\":\"0 2px 4px rgba(0, 0, 0, 0.3)\",transform:c?\"scale(1.2)\":\"scale(1)\",transition:\"all 0.2s ease\",pointerEvents:\"auto\"},onMouseDown:t=>{console.log(\"Input handle mouse down\"),B(e.id,\"input\",t)},onMouseUp:t=>{console.log(\"Input handle mouse up\"),A(e.id,\"input\",t)},onClick:e=>{console.log(\"Input handle clicked\"),e.preventDefault(),e.stopPropagation()},title:\"Input - Click to connect from another node's output\"}),Object(l.jsxs)(\"div\",{\"data-layer-id\":e.id,style:{position:\"absolute\",left:e.x,top:e.y,background:r?\"#1e3a5f\":n?\"#3a3a3a\":\"#2d2d2d\",border:r?\"2px solid #007acc\":n?\"2px solid #ff6b6b\":\"2px solid #555\",borderRadius:8,padding:12,minWidth:120,cursor:null!==j.from?\"crosshair\":C?\"grabbing\":\"move\",zIndex:f===e.id?80:30,color:\"#ffffff\",boxShadow:n?\"0 0 10px rgba(255, 107, 107, 0.3)\":\"0 2px 8px rgba(0, 0, 0, 0.3)\",userSelect:\"none\",WebkitUserSelect:\"none\",MozUserSelect:\"none\",msUserSelect:\"none\",pointerEvents:\"auto\"},onMouseDown:t=>((e,t)=>{const n=t.target;if(n instanceof HTMLInputElement||n instanceof HTMLLabelElement||n instanceof HTMLSelectElement)return;if(null!==j.from||C)return;if(g(e),!D.current)return;const r=o.find(t=>t.id===e);if(!r)return;const i=D.current.getBoundingClientRect(),c=t.clientX-i.left,a=t.clientY-i.top,l=P(c,a),s=l.x-r.x,d=l.y-r.y;u(e),b({x:s,y:d}),t.stopPropagation()})(e.id,t),children:[Object(l.jsx)(t,Object(a.a)({},e.parameters)),Object(l.jsx)(\"div\",{style:{marginTop:8,userSelect:\"none\"},children:d})]}),Object(l.jsx)(\"div\",{style:{position:\"absolute\",left:e.x+(e.width||270)+8,top:e.y+42,width:16,height:16,backgroundColor:\"#f44336\",borderRadius:\"50%\",border:\"2px solid #ffffff\",cursor:\"pointer\",zIndex:100,boxShadow:j.from===e.id?\"0 0 8px rgba(244, 67, 54, 0.8)\":\"0 2px 4px rgba(0, 0, 0, 0.3)\",transform:j.from===e.id?\"scale(1.2)\":\"scale(1)\",transition:\"all 0.2s ease\",pointerEvents:\"auto\"},onMouseDown:t=>{console.log(\"Output handle mouse down\"),B(e.id,\"output\",t)},onMouseUp:t=>{console.log(\"Output handle mouse up\"),A(e.id,\"output\",t)},onClick:e=>{console.log(\"Output handle clicked\"),e.preventDefault(),e.stopPropagation()},title:\"Output - Click and drag to connect to another node's output\"})]},e.id)})}),(()=>{const e=c.map((e,t)=>{const n=o.find(t=>t.id===e.from),r=o.find(t=>t.id===e.to);if(!n||!r)return null;const i=U(n,\"output\"),c=U(r,\"input\"),a=W(i.x,i.y),s=W(c.x,c.y);return Object(l.jsx)(\"line\",{x1:a.x,y1:a.y,x2:s.x,y2:s.y,stroke:\"#007acc\",strokeWidth:2,markerEnd:\"url(#arrowhead)\"},\"connection-\".concat(t))}),t=m&&Object(l.jsx)(\"line\",{x1:m.from.x,y1:m.from.y,x2:m.to.x,y2:m.to.y,stroke:v?\"#4caf50\":\"#ffa726\",strokeWidth:2,strokeDasharray:\"5,5\",markerEnd:\"url(#previewArrowhead)\"},\"preview\");return Object(l.jsxs)(\"svg\",{style:{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",pointerEvents:\"none\",zIndex:15},children:[Object(l.jsxs)(\"defs\",{children:[Object(l.jsx)(\"marker\",{id:\"arrowhead\",markerWidth:\"10\",markerHeight:\"7\",refX:\"9\",refY:\"3.5\",orient:\"auto\",children:Object(l.jsx)(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:\"#007acc\"})}),Object(l.jsx)(\"marker\",{id:\"previewArrowhead\",markerWidth:\"10\",markerHeight:\"7\",refX:\"9\",refY:\"3.5\",orient:\"auto\",children:Object(l.jsx)(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:v?\"#4caf50\":\"#ffa726\"})})]}),e,t]})})()]})});var f=()=>Object(l.jsxs)(\"div\",{style:{width:\"250px\",backgroundColor:\"#000000ff\",padding:\"16px\",borderRight:\"0px solid #000000ff\",height:\"calc(100vh - 80px)\",overflowY:\"auto\"},children:[Object(l.jsx)(\"h3\",{style:{color:\"#ffffff\",marginTop:0,marginBottom:\"16px\",fontSize:\"18px\"},children:\"Layer Library\"}),Object(l.jsx)(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"8px\"},children:[{type:\"InputLayer\",name:\"Input Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"Conv2DLayer\",name:\"Conv2D Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"MaxPoolLayer\",name:\"MaxPool Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"FlattenLayer\",name:\"Flatten Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"LinearLayer\",name:\"Linear Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"OutputLayer\",name:\"Output Layer\",icon:\"\",color:\"#315c4aff\"},{type:\"ConcatLayer\",name:\"Concat Layer\",icon:\"\",color:\"#315c4aff\"}].map(e=>Object(l.jsxs)(\"div\",{draggable:!0,onDragStart:t=>((e,t)=>{const o={type:t,id:Date.now()+Math.random()};e.dataTransfer.setData(\"text/plain\",JSON.stringify(o))})(t,e.type),style:{padding:\"12px\",backgroundColor:\"#151515ff\",border:\"2px solid \".concat(e.color),borderRadius:\"8px\",cursor:\"grab\",transition:\"all 0.2s ease\",display:\"flex\",alignItems:\"center\",gap:\"12px\"},onMouseDown:e=>e.currentTarget.style.cursor=\"grabbing\",onMouseUp:e=>e.currentTarget.style.cursor=\"grab\",onMouseOver:e=>{e.currentTarget.style.backgroundColor=\"#151515ff\",e.currentTarget.style.transform=\"translateY(-2px)\"},onMouseOut:e=>{e.currentTarget.style.backgroundColor=\"#000000ff\",e.currentTarget.style.transform=\"translateY(0)\"},children:[Object(l.jsx)(\"span\",{style:{fontSize:\"20px\"},children:e.icon}),Object(l.jsx)(\"span\",{style:{color:\"#ffffff\",fontWeight:\"500\",fontSize:\"14px\"},children:e.name})]},e.type))})]});var u=()=>Object(l.jsxs)(\"div\",{style:{width:200,border:\"1px solid #000000ff\",padding:16,background:\"#000000ff\",color:\"#ffffff\",height:\"calc(100vh - 80px)\",overflowY:\"auto\"},children:[Object(l.jsx)(\"h3\",{style:{color:\"#ffffff\",marginTop:0},children:\"Properties\"}),Object(l.jsx)(\"p\",{style:{fontSize:14,color:\"#ccc\"},children:\"Select a layer to edit its properties\"})]});var x=e=>{let{onExport:t,onImport:o}=e;return Object(l.jsxs)(\"div\",{className:\"toolbar\",style:{display:\"flex\",justifyContent:\"space-between\",padding:\"10px 15px\",backgroundColor:\"#000000ff\",borderBottom:\"0px solid #333\"},children:[Object(l.jsx)(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:Object(l.jsx)(\"h2\",{style:{margin:0,fontSize:\"20px\",color:\"#fff\"},children:\"NN Builder\"})}),Object(l.jsxs)(\"div\",{style:{display:\"flex\",gap:\"10px\"},children:[Object(l.jsx)(\"button\",{onClick:o,style:{backgroundColor:\"#315c4aff\",color:\"white\",border:\"none\",padding:\"8px 16px\",borderRadius:\"4px\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:\"5px\",fontWeight:\"bold\"},children:Object(l.jsx)(\"span\",{children:\"Import Model\"})}),Object(l.jsx)(\"button\",{onClick:t,style:{backgroundColor:\"#315c4aff\",color:\"white\",border:\"none\",padding:\"8px 16px\",borderRadius:\"4px\",cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:\"5px\",fontWeight:\"bold\"},children:Object(l.jsx)(\"span\",{children:\"Export Model\"})})]})]})};var b=()=>{const[e,t]=Object(n.useState)({isExporting:!1,message:\"\",isError:!1}),o=Object(n.useRef)(null);return Object(l.jsxs)(\"div\",{className:\"app\",style:{height:\"100vh\",display:\"flex\",flexDirection:\"column\",backgroundColor:\"#000000ff\",color:\"#ffffff\"},children:[Object(l.jsx)(x,{onExport:async()=>{if(o.current)try{t({isExporting:!0,message:\"Exporting model...\",isError:!1});const e=o.current.getModelData(),n=\"/api/export-model\",r=await fetch(n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});if(!r.ok)throw new Error(\"Server responded with \".concat(r.status));const i=await r.json();if(!i.success)throw new Error(i.message||\"Export failed\");const c=new Blob([i.message],{type:\"text/plain\"}),l=URL.createObjectURL(c),s=document.createElement(\"a\");s.href=l,s.download=\"neural_network_model.py\",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(l),t({isExporting:!1,message:\"Export successful! File downloaded.\",isError:!1}),setTimeout(()=>{t(e=>Object(a.a)(Object(a.a)({},e),{},{message:\"\"}))},3e3)}catch(e){console.error(\"Export failed:\",e),t({isExporting:!1,message:\"Export failed: \".concat(e instanceof Error?e.message:\"Unknown error\"),isError:!0})}else t({isExporting:!1,message:\"Canvas reference not available\",isError:!0})}}),e.message&&Object(l.jsx)(\"div\",{style:{padding:\"8px 16px\",backgroundColor:e.isError?\"#f44336\":\"#4caf50\",color:\"white\",textAlign:\"center\",opacity:e.message?1:0,transition:\"opacity 0.3s\"},children:e.message}),Object(l.jsxs)(\"div\",{className:\"main-container\",style:{flex:1,display:\"flex\",overflow:\"hidden\",height:\"calc(100vh - 80px)\"},children:[Object(l.jsx)(f,{}),Object(l.jsx)(\"div\",{style:{flex:1,position:\"relative\",overflow:\"hidden\",height:\"100%\"},children:Object(l.jsx)(p,{ref:o})}),Object(l.jsx)(u,{})]})]})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById(\"root\"))},9:function(e,t,o){}},[[12,1,2]]]);","name":"static/js/main.993f3130.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","jsx_runtime","layerComponentMap","InputLayer","_ref","inputShape","Object","style","userSelect","children","margin","fontSize","color","join","Conv2DLayer","filterSize","numFilters","activationFunction","localFilterSize","setLocalFilterSize","localNumFilters","setLocalNumFilters","localActivationFunction","setLocalActivationFunction","className","marginTop","type","value","onChange","event","Number","target","backgroundColor","border","padding","borderRadius","width","marginLeft","OutputLayer","outputShape","ConcatLayer","layers","length","LinearLayer","inputSize","outputSize","bias","activation","minWidth","textAlign","fontWeight","marginBottom","FlattenLayer","startDim","endDim","MaxPoolLayer","poolSize","stride","defaultParams","canvas_Canvas","a","forwardRef","props","ref","setLayers","connections","setConnections","draggedId","setDraggedId","dragOffset","setDragOffset","x","y","connecting","setConnecting","from","to","selectedLayerId","setSelectedLayerId","connectionPreview","setConnectionPreview","nearbyHandle","setNearbyHandle","canvasTransform","setCanvasTransform","scale","isPanning","setIsPanning","panStart","setPanStart","canvasRef","contentRef","handleKeyDown","e","activeElement","document","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","key","prev","filter","l","id","conn","preventDefault","addEventListener","removeEventListener","handleWheel","cancelable","current","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","delta","deltaY","scaleFactor","Math","max","min","newX","newY","handlePanStart","button","ctrlKey","handlePanMove","handlePanEnd","resetTransform","screenToCanvas","screenX","screenY","canvasToScreen","canvasX","canvasY","handleConnectionStart","console","log","stopPropagation","handleConnectionEnd","connectingFrom","existingConnectionIndex","findIndex","_","index","fromId","getModelData","map","layer","parameters","position","connection","useImperativeHandle","layerId","element","currentWidth","offsetWidth","existingLayer","find","forEach","querySelector","concat","HTMLDivElement","getHandlePosition","nodeWidth","height","overflow","cursor","onWheel","onMouseDown","onMouseMove","canvasCoords","fromLayer","fromPos","fromScreen","closestHandle","minDistance","inputPos","inputScreen","distance","sqrt","pow","targetLayer","targetPos","targetScreen","onMouseUp","onClick","onDragOver","onDrop","_canvasRef$current","data","dataTransfer","getData","JSON","parse","includes","t","dropX","dropY","undefined","handleDrop","error","tabIndex","right","zIndex","display","flexDirection","gap","background","round","bottom","transform","transformOrigin","pointerEvents","LayerComponent","isSelected","isConnecting","isNearbyTarget","paramInputs","keys","param","displayValue","Array","isArray","String","convertedValue","isNaN","trim","split","v","_unused","handleParamChange","placeholder","onFocus","boxShadow","transition","title","WebkitUserSelect","MozUserSelect","msUserSelect","HTMLLabelElement","offsetX","offsetY","handleMouseDown","connectionLines","toLayer","toScreen","x1","y1","x2","y2","stroke","strokeWidth","markerEnd","previewLine","strokeDasharray","markerWidth","markerHeight","refX","refY","orient","points","fill","renderConnections","sidebar_LayerLibrary","borderRight","overflowY","name","icon","draggable","onDragStart","layerType","layerData","Date","now","random","setData","stringify","handleDragStart","alignItems","currentTarget","onMouseOver","onMouseOut","sidebar_PropertiesPanel","controls_Toolbar","onExport","onImport","justifyContent","borderBottom","src_App","exportStatus","setExportStatus","isExporting","message","isError","async","modelData","apiUrl","response","fetch","method","headers","body","ok","Error","status","result","json","success","blob","Blob","url","URL","createObjectURL","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","setTimeout","opacity","flex","render","StrictMode","getElementById"],"sources":["static/js/main.993f3130.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonpdragflow-nn-builder\"] = this[\"webpackJsonpdragflow-nn-builder\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/components/overrides.css\nvar overrides = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/layers/InputLayer.tsx\nconst InputLayer=_ref=>{let{inputShape=[28,28,1]}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{margin:0,fontSize:14,color:'#ffffff',userSelect:'none'},children:\"Input Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:12,color:'#ccc',userSelect:'none'},children:[\"Shape: [\",inputShape.join(', '),\"]\"]})]});};/* harmony default export */ var layers_InputLayer = (InputLayer);\n// CONCATENATED MODULE: ./src/components/layers/Conv2DLayer.tsx\nconst Conv2DLayer=_ref=>{let{filterSize=3,numFilters=32,activationFunction='relu'}=_ref;const[localFilterSize,setLocalFilterSize]=Object(react[\"useState\"])(filterSize);const[localNumFilters,setLocalNumFilters]=Object(react[\"useState\"])(numFilters);const[localActivationFunction,setLocalActivationFunction]=Object(react[\"useState\"])(activationFunction);const handleFilterSizeChange=event=>{setLocalFilterSize(Number(event.target.value));};const handleNumFiltersChange=event=>{setLocalNumFilters(Number(event.target.value));};const handleActivationFunctionChange=event=>{setLocalActivationFunction(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"conv2d-layer\",style:{userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{color:'#ffffff',margin:0,fontSize:14,userSelect:'none'},children:\"Conv2D Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:8,userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{color:'#ccc',fontSize:12,userSelect:'none'},children:\"Filter Size:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:localFilterSize,onChange:handleFilterSizeChange,style:{backgroundColor:'#3a3a3a',border:'1px solid #555',color:'#ffffff',padding:'2px 4px',borderRadius:'2px',width:'60px',marginLeft:'4px'}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:4,userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{color:'#ccc',fontSize:12,userSelect:'none'},children:\"Number of Filters:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",value:localNumFilters,onChange:handleNumFiltersChange,style:{backgroundColor:'#3a3a3a',border:'1px solid #555',color:'#ffffff',padding:'2px 4px',borderRadius:'2px',width:'60px',marginLeft:'4px'}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginTop:4,userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{style:{color:'#ccc',fontSize:12,userSelect:'none'},children:\"Activation Function:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{value:localActivationFunction,onChange:handleActivationFunctionChange,style:{backgroundColor:'#3a3a3a',border:'1px solid #555',color:'#ffffff',padding:'2px 4px',borderRadius:'2px',marginLeft:'4px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"relu\",children:\"ReLU\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"sigmoid\",children:\"Sigmoid\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"tanh\",children:\"Tanh\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:12,color:'#888',marginTop:8,userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Filters: \",localNumFilters]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Size: \",localFilterSize,\"x\",localFilterSize]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Activation: \",localActivationFunction]})]})]});};/* harmony default export */ var layers_Conv2DLayer = (Conv2DLayer);\n// CONCATENATED MODULE: ./src/components/layers/OutputLayer.tsx\nconst OutputLayer=_ref=>{let{outputShape=[10],activationFunction='softmax'}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{margin:0,fontSize:14,color:'#ffffff',userSelect:'none'},children:\"Output Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:12,color:'#ccc',userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Shape: [\",outputShape.join(', '),\"]\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Activation: \",activationFunction]})]})]});};/* harmony default export */ var layers_OutputLayer = (OutputLayer);\n// CONCATENATED MODULE: ./src/components/layers/ConcatLayer.tsx\nconst ConcatLayer=_ref=>{let{layers=[]}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{userSelect:'none'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{margin:0,fontSize:14,color:'#ffffff',userSelect:'none'},children:\"Concat Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:12,color:'#ccc',userSelect:'none'},children:[\"Inputs: \",layers.length]})]});};/* harmony default export */ var layers_ConcatLayer = (ConcatLayer);\n// CONCATENATED MODULE: ./src/components/layers/LinearLayer.tsx\nconst LinearLayer=_ref=>{let{inputSize=128,outputSize=64,bias=true,activation='none'}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'8px',backgroundColor:'#2a2a2a',borderRadius:'4px',minWidth:'120px',textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontWeight:'bold',marginBottom:'4px',color:'#4caf50'},children:\"Linear Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'12px',color:'#ccc'},children:[\"Input: \",inputSize]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'12px',color:'#ccc'},children:[\"Output: \",outputSize]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'10px',color:'#888',marginTop:'4px'},children:[\"Bias: \",bias?'Yes':'No']}),activation!=='none'&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'10px',color:'#888'},children:[\"Activation: \",activation]})]});};/* harmony default export */ var layers_LinearLayer = (LinearLayer);\n// CONCATENATED MODULE: ./src/components/layers/FlattenLayer.tsx\nconst FlattenLayer=_ref=>{let{startDim=1,endDim=-1}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'8px',backgroundColor:'#2a2a2a',borderRadius:'4px',minWidth:'120px',textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontWeight:'bold',marginBottom:'4px',color:'#ff9800'},children:\"Flatten Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontSize:'12px',color:'#ccc'},children:\"Reshape to 1D\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'10px',color:'#888',marginTop:'4px'},children:[\"Start Dim: \",startDim]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'10px',color:'#888'},children:[\"End Dim: \",endDim===-1?'Last':endDim]})]});};/* harmony default export */ var layers_FlattenLayer = (FlattenLayer);\n// CONCATENATED MODULE: ./src/components/layers/MaxPoolLayer.tsx\nconst MaxPoolLayer=_ref=>{let{poolSize=2,stride=2,padding='valid'}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{padding:'8px',backgroundColor:'#2a2a2a',borderRadius:'4px',minWidth:'120px',textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{fontWeight:'bold',marginBottom:'4px',color:'#42a5f5'},children:\"MaxPool Layer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'12px',color:'#ccc'},children:[\"Pool Size: \",poolSize,\"\\xD7\",poolSize]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'12px',color:'#ccc'},children:[\"Stride: \",stride]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{fontSize:'10px',color:'#888',marginTop:'4px'},children:[\"Padding: \",padding]})]});};/* harmony default export */ var layers_MaxPoolLayer = (MaxPoolLayer);\n// CONCATENATED MODULE: ./src/components/canvas/Canvas.tsx\nconst layerComponentMap={InputLayer:layers_InputLayer,Conv2DLayer:layers_Conv2DLayer,OutputLayer:layers_OutputLayer,ConcatLayer:layers_ConcatLayer,LinearLayer:layers_LinearLayer,FlattenLayer:layers_FlattenLayer,MaxPoolLayer:layers_MaxPoolLayer};const defaultParams={InputLayer:{inputShape:[28,28,1]},Conv2DLayer:{filterSize:3,numFilters:32,activationFunction:'relu'},OutputLayer:{outputShape:[10],activationFunction:'softmax'},ConcatLayer:{layers:[]},LinearLayer:{inputSize:128,outputSize:64,bias:true,activation:'relu'},FlattenLayer:{startDim:1,endDim:-1},MaxPoolLayer:{poolSize:2,stride:2,padding:'valid'}};const Canvas=/*#__PURE__*/react_default.a.forwardRef((props,ref)=>{const[layers,setLayers]=Object(react[\"useState\"])([]);const[connections,setConnections]=Object(react[\"useState\"])([]);const[draggedId,setDraggedId]=Object(react[\"useState\"])(null);const[dragOffset,setDragOffset]=Object(react[\"useState\"])({x:0,y:0});const[connecting,setConnecting]=Object(react[\"useState\"])({from:null,to:null});const[selectedLayerId,setSelectedLayerId]=Object(react[\"useState\"])(null);const[connectionPreview,setConnectionPreview]=Object(react[\"useState\"])(null);const[nearbyHandle,setNearbyHandle]=Object(react[\"useState\"])(null);// Canvas transform state\nconst[canvasTransform,setCanvasTransform]=Object(react[\"useState\"])({x:0,y:0,scale:1});const[isPanning,setIsPanning]=Object(react[\"useState\"])(false);const[panStart,setPanStart]=Object(react[\"useState\"])({x:0,y:0});const canvasRef=Object(react[\"useRef\"])(null);const contentRef=Object(react[\"useRef\"])(null);// Keyboard event handler for deleting selected nodes\nObject(react[\"useEffect\"])(()=>{const handleKeyDown=e=>{// Don't delete if user is typing in an input field\nconst activeElement=document.activeElement;if(activeElement instanceof HTMLInputElement||activeElement instanceof HTMLTextAreaElement||activeElement instanceof HTMLSelectElement){return;}if((e.key==='Delete'||e.key==='Backspace')&&selectedLayerId!==null){// Remove the selected layer\nsetLayers(prev=>prev.filter(l=>l.id!==selectedLayerId));// Remove all connections involving this layer\nsetConnections(prev=>prev.filter(conn=>conn.from!==selectedLayerId&&conn.to!==selectedLayerId));setSelectedLayerId(null);e.preventDefault();}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[selectedLayerId]);// Zoom and pan controls - reduced sensitivity\nconst handleWheel=Object(react[\"useCallback\"])(e=>{// Only call preventDefault if needed and if it's not a passive listener\nif(e.cancelable){e.preventDefault();}if(!canvasRef.current)return;const rect=canvasRef.current.getBoundingClientRect();const mouseX=e.clientX-rect.left;const mouseY=e.clientY-rect.top;// Reduced sensitivity: changed from -0.01 to -0.001\nconst delta=e.deltaY*-0.001;const scaleFactor=Math.max(0.1,Math.min(3,canvasTransform.scale+delta));// Calculate new position to zoom towards mouse position\nconst newX=mouseX-(mouseX-canvasTransform.x)*(scaleFactor/canvasTransform.scale);const newY=mouseY-(mouseY-canvasTransform.y)*(scaleFactor/canvasTransform.scale);setCanvasTransform({x:newX,y:newY,scale:scaleFactor});},[canvasTransform]);const handlePanStart=Object(react[\"useCallback\"])(e=>{// Only start panning if middle mouse button or space + left click\nif(e.button===1||e.button===0&&e.ctrlKey){e.preventDefault();setIsPanning(true);setPanStart({x:e.clientX-canvasTransform.x,y:e.clientY-canvasTransform.y});}},[canvasTransform]);const handlePanMove=Object(react[\"useCallback\"])(e=>{if(isPanning){e.preventDefault();setCanvasTransform(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{x:e.clientX-panStart.x,y:e.clientY-panStart.y}));}},[isPanning,panStart]);const handlePanEnd=Object(react[\"useCallback\"])(()=>{setIsPanning(false);},[]);// Reset zoom and pan\nconst resetTransform=Object(react[\"useCallback\"])(()=>{setCanvasTransform({x:0,y:0,scale:1});},[]);// Convert screen coordinates to canvas coordinates\nconst screenToCanvas=Object(react[\"useCallback\"])((screenX,screenY)=>{return{x:(screenX-canvasTransform.x)/canvasTransform.scale,y:(screenY-canvasTransform.y)/canvasTransform.scale};},[canvasTransform]);// Convert canvas coordinates to screen coordinates\nconst canvasToScreen=Object(react[\"useCallback\"])((canvasX,canvasY)=>{return{x:canvasX*canvasTransform.scale+canvasTransform.x,y:canvasY*canvasTransform.scale+canvasTransform.y};},[canvasTransform]);// Add new layer at the mouse drop position - fixed for transforms\nconst handleDrop=layer=>{// Only allow valid LayerType\nif(!['InputLayer','Conv2DLayer','OutputLayer','ConcatLayer','LinearLayer','FlattenLayer','MaxPoolLayer'].includes(layer.type)){return;}const validLayerTypes=['InputLayer','Conv2DLayer','OutputLayer','ConcatLayer','LinearLayer','FlattenLayer','MaxPoolLayer'];const type=validLayerTypes.find(t=>t===layer.type);if(!type){return;}// Convert drop position to canvas coordinates if provided\nlet dropX=100;let dropY=100;if(layer.x!==undefined&&layer.y!==undefined){const canvasCoords=screenToCanvas(layer.x,layer.y);dropX=canvasCoords.x;dropY=canvasCoords.y;}setLayers(prev=>[...prev,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},layer),{},{type:type,parameters:Object(objectSpread2[\"a\" /* default */])({},defaultParams[type]),x:dropX,y:dropY})]);};// Improved drag logic with input element detection and selection\nconst handleMouseDown=(id,e)=>{// Prevent dragging if clicking on input elements, labels, or select elements\nconst target=e.target;if(target instanceof HTMLInputElement||target instanceof HTMLLabelElement||target instanceof HTMLSelectElement){return;}// Don't start dragging if we're connecting or panning\nif(connecting.from!==null||isPanning){return;}// Set selected layer\nsetSelectedLayerId(id);if(!canvasRef.current)return;const layer=layers.find(l=>l.id===id);if(!layer)return;const rect=canvasRef.current.getBoundingClientRect();const screenX=e.clientX-rect.left;const screenY=e.clientY-rect.top;const canvasCoords=screenToCanvas(screenX,screenY);// Calculate offset from mouse position to layer's top-left corner\nconst offsetX=canvasCoords.x-layer.x;const offsetY=canvasCoords.y-layer.y;setDraggedId(id);setDragOffset({x:offsetX,y:offsetY});e.stopPropagation();};// Click outside to deselect\nconst handleCanvasClick=e=>{if(e.target===canvasRef.current){setSelectedLayerId(null);}};const handleMouseUp=()=>{setDraggedId(null);setDragOffset({x:0,y:0});handlePanEnd();// End connection if we're connecting\nif(connecting.from!==null){setConnecting({from:null,to:null});setConnectionPreview(null);setNearbyHandle(null);}};const handleMouseMove=e=>{if(!canvasRef.current)return;const rect=canvasRef.current.getBoundingClientRect();const screenX=e.clientX-rect.left;const screenY=e.clientY-rect.top;const canvasCoords=screenToCanvas(screenX,screenY);// Handle panning\nhandlePanMove(e);// Handle node dragging\nif(draggedId!==null&&!isPanning){const x=canvasCoords.x-dragOffset.x;const y=canvasCoords.y-dragOffset.y;setLayers(prev=>prev.map(l=>l.id===draggedId?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},l),{},{x,y}):l));}// Handle connection preview\nif(connecting.from!==null){const fromLayer=layers.find(l=>l.id===connecting.from);if(fromLayer){const fromPos=getHandlePosition(fromLayer,'output');const fromScreen=canvasToScreen(fromPos.x,fromPos.y);// Check for nearby input handles\nlet closestHandle=null;let minDistance=30;// Snap distance\nlayers.forEach(layer=>{if(layer.id!==connecting.from){const inputPos=getHandlePosition(layer,'input');const inputScreen=canvasToScreen(inputPos.x,inputPos.y);const distance=Math.sqrt(Math.pow(screenX-inputScreen.x,2)+Math.pow(screenY-inputScreen.y,2));if(distance<minDistance){minDistance=distance;closestHandle=layer.id;}}});setNearbyHandle(closestHandle);// Set preview line (in screen coordinates for SVG)\nif(closestHandle){const targetLayer=layers.find(l=>l.id===closestHandle);if(targetLayer){const targetPos=getHandlePosition(targetLayer,'input');const targetScreen=canvasToScreen(targetPos.x,targetPos.y);setConnectionPreview({from:fromScreen,to:targetScreen});}}else{setConnectionPreview({from:fromScreen,to:{x:screenX,y:screenY}});}}}};// Inline parameter editing with proper type conversion\nconst handleParamChange=(id,param,value)=>{setLayers(prev=>prev.map(l=>{if(l.id===id){let convertedValue=value;// Convert numeric strings to numbers\nif(!isNaN(Number(value))&&value.trim()!==''){convertedValue=Number(value);}// Handle array inputs (for inputShape, outputShape)\nif(param.includes('Shape')&&typeof value==='string'){try{// Parse comma-separated values as array\nconvertedValue=value.split(',').map(v=>Number(v.trim())).filter(v=>!isNaN(v));}catch(_unused){convertedValue=value;}}return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},l),{},{parameters:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},l.parameters),{},{[param]:convertedValue})});}return l;}));};// Connection logic with handles\nconst handleConnectionStart=(id,type,e)=>{console.log('Connection start:',{id,type});// Debug log\ne.preventDefault();e.stopPropagation();if(type==='output'){setConnecting({from:id,to:null});console.log('Started connecting from node:',id);// Debug log\n}};const handleConnectionEnd=(id,type,e)=>{console.log('Connection end:',{id,type,connectingFrom:connecting.from});// Debug log\ne.preventDefault();e.stopPropagation();if(type==='input'&&connecting.from!==null&&connecting.from!==id){// Check if connection already exists\nconst existingConnectionIndex=connections.findIndex(conn=>conn.from===connecting.from&&conn.to===id);if(existingConnectionIndex!==-1){// Disconnect if connection exists\nconsole.log('Removing existing connection');// Debug log\nsetConnections(prev=>prev.filter((_,index)=>index!==existingConnectionIndex));}else{// Connect if no connection exists\nconsole.log('Creating new connection from',connecting.from,'to',id);// Debug log\nconst fromId=connecting.from;setConnections(prev=>[...prev,{from:fromId,to:id}]);}}// Always clear connection state\nsetConnecting({from:null,to:null});setConnectionPreview(null);setNearbyHandle(null);};// Function to get all model data for export\nconst getModelData=()=>{return{layers:layers.map(layer=>({id:layer.id,type:layer.type,parameters:layer.parameters,position:{x:layer.x,y:layer.y}})),connections:connections.map(connection=>({from:connection.from,to:connection.to}))};};// Expose the getModelData function via ref\nreact_default.a.useImperativeHandle(ref,()=>({getModelData}));// Function to update node width after render - optimized to prevent infinite loops\nconst updateNodeWidth=Object(react[\"useCallback\"])((layerId,element)=>{if(element){const currentWidth=element.offsetWidth;// Only update if width has actually changed\nsetLayers(prev=>{const existingLayer=prev.find(layer=>layer.id===layerId);if(existingLayer&&existingLayer.width!==currentWidth){return prev.map(layer=>layer.id===layerId?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},layer),{},{width:currentWidth}):layer);}return prev;});}},[]);// Use useEffect to measure width after initial render instead of ref callback\nObject(react[\"useEffect\"])(()=>{layers.forEach(layer=>{if(!layer.width){const element=document.querySelector(\"[data-layer-id=\\\"\".concat(layer.id,\"\\\"]\"));if(element&&element instanceof HTMLDivElement){const width=element.offsetWidth;setLayers(prev=>prev.map(l=>l.id===layer.id?Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},l),{},{width}):l));}}});},[layers.length]);// Only run when number of layers changes\n// Helper function to get handle positions - using actual width\nconst getHandlePosition=(layer,type)=>{if(type==='input'){return{x:layer.x-8,y:layer.y+50};}else{const nodeWidth=layer.width||270;return{x:layer.x+nodeWidth+8,y:layer.y+50};}};// Update connection line positions to connect handles\nconst getLayerCenter=layer=>{return{x:layer.x+60,y:layer.y+50};};// Updated render connections to use screen coordinates\nconst renderConnections=()=>{const connectionLines=connections.map((connection,index)=>{const fromLayer=layers.find(l=>l.id===connection.from);const toLayer=layers.find(l=>l.id===connection.to);if(!fromLayer||!toLayer)return null;const from=getHandlePosition(fromLayer,'output');const to=getHandlePosition(toLayer,'input');const fromScreen=canvasToScreen(from.x,from.y);const toScreen=canvasToScreen(to.x,to.y);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{x1:fromScreen.x,y1:fromScreen.y,x2:toScreen.x,y2:toScreen.y,stroke:\"#007acc\",strokeWidth:2,markerEnd:\"url(#arrowhead)\"},\"connection-\".concat(index));});// Add preview connection\nconst previewLine=connectionPreview&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"line\",{x1:connectionPreview.from.x,y1:connectionPreview.from.y,x2:connectionPreview.to.x,y2:connectionPreview.to.y,stroke:nearbyHandle?\"#4caf50\":\"#ffa726\",strokeWidth:2,strokeDasharray:\"5,5\",markerEnd:\"url(#previewArrowhead)\"},\"preview\");return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"svg\",{style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',pointerEvents:'none',zIndex:15// Higher than canvas content but lower than handles\n},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"defs\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"marker\",{id:\"arrowhead\",markerWidth:\"10\",markerHeight:\"7\",refX:\"9\",refY:\"3.5\",orient:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:\"#007acc\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"marker\",{id:\"previewArrowhead\",markerWidth:\"10\",markerHeight:\"7\",refX:\"9\",refY:\"3.5\",orient:\"auto\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:nearbyHandle?\"#4caf50\":\"#ffa726\"})})]}),connectionLines,previewLine]});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"canvas\",ref:canvasRef,style:{height:'100%',// Change from minHeight to height for full expansion\nwidth:'100%',border:'1px solid #000000ff',position:'relative',overflow:'hidden',backgroundColor:'#171717ff',cursor:isPanning?'grabbing':connecting.from!==null?'crosshair':'default'},onWheel:handleWheel,onMouseDown:handlePanStart,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onClick:handleCanvasClick,onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();try{var _canvasRef$current;const data=e.dataTransfer.getData('text/plain');const layer=JSON.parse(data);// Calculate drop position relative to canvas\nconst rect=(_canvasRef$current=canvasRef.current)===null||_canvasRef$current===void 0?void 0:_canvasRef$current.getBoundingClientRect();if(rect){const x=e.clientX-rect.left;const y=e.clientY-rect.top;handleDrop(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},layer),{},{x:x-60,y:y-50}));}}catch(error){console.error('Failed to parse dropped data:',error);}},tabIndex:0,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:'absolute',top:10,right:10,zIndex:200,display:'flex',flexDirection:'column',gap:5,background:'#0b0b0bff',padding:8,borderRadius:7,border:'1px solid #555'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>setCanvasTransform(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{scale:Math.min(3,prev.scale*1.2)})),style:{background:'#3a3a3a',border:'1px solid #555',color:'#fff',padding:'4px 8px',borderRadius:2,cursor:'pointer'},children:\"+\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:()=>setCanvasTransform(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{scale:Math.max(0.1,prev.scale/1.2)})),style:{background:'#3a3a3a',border:'1px solid #555',color:'#fff',padding:'4px 8px',borderRadius:2,cursor:'pointer'},children:\"-\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:resetTransform,style:{background:'#3a3a3a',border:'1px solid #555',color:'#fff',padding:'4px 8px',borderRadius:2,cursor:'pointer',fontSize:10},children:\"Reset\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{color:'#ccc',fontSize:10,textAlign:'center'},children:[Math.round(canvasTransform.scale*100),\"%\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:'absolute',bottom:10,left:10,color:'#888',fontSize:11,background:'rgba(45, 45, 45, 0.8)',padding:'4px 8px',borderRadius:4,zIndex:200},children:[\"Scroll to zoom \\u2022 Ctrl+Click or Middle-click to pan\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Click red dot then green dot to connect nodes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:contentRef,style:{transform:\"translate(\".concat(canvasTransform.x,\"px, \").concat(canvasTransform.y,\"px) scale(\").concat(canvasTransform.scale,\")\"),transformOrigin:'0 0',position:'absolute',width:'100%',height:'100%',zIndex:10,pointerEvents:'auto'},children:layers.map(layer=>{const LayerComponent=layerComponentMap[layer.type];if(!LayerComponent)return null;const isSelected=selectedLayerId===layer.id;const isConnecting=connecting.from===layer.id;const isNearbyTarget=nearbyHandle===layer.id;// Inline parameter editing UI for demo\nconst paramInputs=Object.keys(layer.parameters).map(param=>{const value=layer.parameters[param];const displayValue=Array.isArray(value)?value.join(', '):String(value);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{marginBottom:4},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\",{style:{fontSize:12,color:'#ccc'},children:[param,\": \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{fontSize:12,width:80,backgroundColor:'#3a3a3a',border:'1px solid #555',color:'#ffffff',padding:'2px 4px',borderRadius:'2px'},value:displayValue,onChange:e=>handleParamChange(layer.id,param,e.target.value),placeholder:param.includes('Shape')?\"e.g. 28, 28, 1\":\"\",onMouseDown:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation()})]},param);});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'absolute',left:layer.x-8,top:layer.y+42,width:16,height:16,backgroundColor:isNearbyTarget?'#81c784':'#4caf50',borderRadius:'50%',border:'2px solid #ffffff',cursor:'pointer',zIndex:100,boxShadow:isNearbyTarget?'0 0 8px rgba(129, 199, 132, 0.8)':'0 2px 4px rgba(0, 0, 0, 0.3)',transform:isNearbyTarget?'scale(1.2)':'scale(1)',transition:'all 0.2s ease',pointerEvents:'auto'},onMouseDown:e=>{console.log('Input handle mouse down');// Debug log\nhandleConnectionStart(layer.id,'input',e);},onMouseUp:e=>{console.log('Input handle mouse up');// Debug log\nhandleConnectionEnd(layer.id,'input',e);},onClick:e=>{console.log('Input handle clicked');// Debug log\ne.preventDefault();e.stopPropagation();},title:\"Input - Click to connect from another node's output\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{\"data-layer-id\":layer.id,style:{position:'absolute',left:layer.x,top:layer.y,background:isConnecting?'#1e3a5f':isSelected?'#3a3a3a':'#2d2d2d',border:isConnecting?'2px solid #007acc':isSelected?'2px solid #ff6b6b':'2px solid #555',borderRadius:8,padding:12,minWidth:120,cursor:connecting.from!==null?'crosshair':isPanning?'grabbing':'move',zIndex:draggedId===layer.id?80:30,// Below handles\ncolor:'#ffffff',boxShadow:isSelected?'0 0 10px rgba(255, 107, 107, 0.3)':'0 2px 8px rgba(0, 0, 0, 0.3)',userSelect:'none',WebkitUserSelect:'none',MozUserSelect:'none',msUserSelect:'none',pointerEvents:'auto'},onMouseDown:e=>handleMouseDown(layer.id,e),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LayerComponent,Object(objectSpread2[\"a\" /* default */])({},layer.parameters)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{marginTop:8,userSelect:'none'},children:paramInputs})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'absolute',left:layer.x+(layer.width||270)+8,top:layer.y+42,width:16,height:16,backgroundColor:'#f44336',borderRadius:'50%',border:'2px solid #ffffff',cursor:'pointer',zIndex:100,boxShadow:connecting.from===layer.id?'0 0 8px rgba(244, 67, 54, 0.8)':'0 2px 4px rgba(0, 0, 0, 0.3)',transform:connecting.from===layer.id?'scale(1.2)':'scale(1)',transition:'all 0.2s ease',pointerEvents:'auto'},onMouseDown:e=>{console.log('Output handle mouse down');// Debug log\nhandleConnectionStart(layer.id,'output',e);},onMouseUp:e=>{console.log('Output handle mouse up');// Debug log\nhandleConnectionEnd(layer.id,'output',e);},onClick:e=>{console.log('Output handle clicked');// Debug log\ne.preventDefault();e.stopPropagation();},title:\"Output - Click and drag to connect to another node's output\"})]},layer.id);})}),renderConnections()]});});/* harmony default export */ var canvas_Canvas = (Canvas);\n// CONCATENATED MODULE: ./src/components/sidebar/LayerLibrary.tsx\nconst LayerLibrary=()=>{const layers=[{type:'InputLayer',name:'Input Layer',icon:'',color:'#315c4aff'},{type:'Conv2DLayer',name:'Conv2D Layer',icon:'',color:'#315c4aff'},{type:'MaxPoolLayer',name:'MaxPool Layer',icon:'',color:'#315c4aff'},{type:'FlattenLayer',name:'Flatten Layer',icon:'',color:'#315c4aff'},{type:'LinearLayer',name:'Linear Layer',icon:'',color:'#315c4aff'},{type:'OutputLayer',name:'Output Layer',icon:'',color:'#315c4aff'},{type:'ConcatLayer',name:'Concat Layer',icon:'',color:'#315c4aff'}];const handleDragStart=(e,layerType)=>{const layerData={type:layerType,id:Date.now()+Math.random()};e.dataTransfer.setData('text/plain',JSON.stringify(layerData));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:'250px',backgroundColor:'#000000ff',padding:'16px',borderRight:'0px solid #000000ff',height:'calc(100vh - 80px)',// Adjust to match viewport height minus header\noverflowY:'auto'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{color:'#ffffff',marginTop:0,marginBottom:'16px',fontSize:'18px'},children:\"Layer Library\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:layers.map(layer=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{draggable:true,onDragStart:e=>handleDragStart(e,layer.type),style:{padding:'12px',backgroundColor:'#151515ff',border:\"2px solid \".concat(layer.color),borderRadius:'8px',cursor:'grab',transition:'all 0.2s ease',display:'flex',alignItems:'center',gap:'12px'},onMouseDown:e=>e.currentTarget.style.cursor='grabbing',onMouseUp:e=>e.currentTarget.style.cursor='grab',onMouseOver:e=>{e.currentTarget.style.backgroundColor='#151515ff';e.currentTarget.style.transform='translateY(-2px)';},onMouseOut:e=>{e.currentTarget.style.backgroundColor='#000000ff';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontSize:'20px'},children:layer.icon}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{color:'#ffffff',fontWeight:'500',fontSize:'14px'},children:layer.name})]},layer.type))})]});};/* harmony default export */ var sidebar_LayerLibrary = (LayerLibrary);\n// CONCATENATED MODULE: ./src/components/sidebar/PropertiesPanel.tsx\nconst PropertiesPanel=()=>{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{width:200,border:'1px solid #000000ff',padding:16,background:'#000000ff',color:'#ffffff',height:'calc(100vh - 80px)',// Match the height of LayerLibrary\noverflowY:'auto'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{color:'#ffffff',marginTop:0},children:\"Properties\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{fontSize:14,color:'#ccc'},children:\"Select a layer to edit its properties\"})]});};/* harmony default export */ var sidebar_PropertiesPanel = (PropertiesPanel);\n// CONCATENATED MODULE: ./src/components/controls/Toolbar.tsx\nconst Toolbar=_ref=>{let{onExport,onImport}=_ref;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"toolbar\",style:{display:'flex',justifyContent:'space-between',padding:'10px 15px',backgroundColor:'#000000ff',borderBottom:'0px solid #333'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{display:'flex',alignItems:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{margin:0,fontSize:'20px',color:'#fff'},children:\"NN Builder\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onImport,style:{backgroundColor:'#315c4aff',color:'white',border:'none',padding:'8px 16px',borderRadius:'4px',cursor:'pointer',display:'flex',alignItems:'center',gap:'5px',fontWeight:'bold'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Import Model\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onExport,style:{backgroundColor:'#315c4aff',color:'white',border:'none',padding:'8px 16px',borderRadius:'4px',cursor:'pointer',display:'flex',alignItems:'center',gap:'5px',fontWeight:'bold'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Export Model\"})})]})]});};/* harmony default export */ var controls_Toolbar = (Toolbar);\n// CONCATENATED MODULE: ./src/App.tsx\nconst App=()=>{// Add state to track export status\nconst[exportStatus,setExportStatus]=Object(react[\"useState\"])({isExporting:false,message:'',isError:false});// Reference to Canvas component to get model data\nconst canvasRef=Object(react[\"useRef\"])(null);// Function to handle export\nconst handleExport=async()=>{if(!canvasRef.current){setExportStatus({isExporting:false,message:'Canvas reference not available',isError:true});return;}try{setExportStatus({isExporting:true,message:'Exporting model...',isError:false});// Get model data from Canvas component\nconst modelData=canvasRef.current.getModelData();// Use relative URL that will work with tunneling\nconst apiUrl='/api/export-model';const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(modelData)});if(!response.ok){throw new Error(\"Server responded with \".concat(response.status));}const result=await response.json();if(!result.success){throw new Error(result.message||'Export failed');}// Create a downloadable file from the Python code\nconst blob=new Blob([result.message],{type:'text/plain'});const url=URL.createObjectURL(blob);// Create a temporary link element to trigger download\nconst a=document.createElement('a');a.href=url;a.download='neural_network_model.py';document.body.appendChild(a);a.click();// Clean up\ndocument.body.removeChild(a);URL.revokeObjectURL(url);setExportStatus({isExporting:false,message:'Export successful! File downloaded.',isError:false});// Clear status message after 3 seconds\nsetTimeout(()=>{setExportStatus(prev=>Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prev),{},{message:''}));},3000);}catch(error){console.error('Export failed:',error);setExportStatus({isExporting:false,message:\"Export failed: \".concat(error instanceof Error?error.message:'Unknown error'),isError:true});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",style:{height:'100vh',display:'flex',flexDirection:'column',backgroundColor:'#000000ff',color:'#ffffff'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(controls_Toolbar,{onExport:handleExport}),exportStatus.message&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{padding:'8px 16px',backgroundColor:exportStatus.isError?'#f44336':'#4caf50',color:'white',textAlign:'center',opacity:exportStatus.message?1:0,transition:'opacity 0.3s'},children:exportStatus.message}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"main-container\",style:{flex:1,display:'flex',overflow:'hidden',height:'calc(100vh - 80px)'// Ensure it takes remaining space\n},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(sidebar_LayerLibrary,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{flex:1,position:'relative',overflow:'hidden',height:'100%'// Ensure the canvas container takes full height\n},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(canvas_Canvas,{ref:canvasRef})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(sidebar_PropertiesPanel,{})]})]});};/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\n// Add this import after other CSS imports\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 9:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[12,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\src\\components\\overrides.css","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/InputLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/Conv2DLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/OutputLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/ConcatLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/LinearLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/FlattenLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/layers/MaxPoolLayer.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/canvas/Canvas.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/sidebar/LayerLibrary.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/sidebar/PropertiesPanel.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/components/controls/Toolbar.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/App.tsx","C:/Users/Fadhi/Downloads/Essentials/ai_maker/dragflow-nn-builder/src/index.js","C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Fadhi\\Downloads\\Essentials\\ai_maker\\dragflow-nn-builder\\src\\index.css"],"names":["InputLayer","_ref","inputShape","_jsxs","style","userSelect","children","_jsx","margin","fontSize","color","join","Conv2DLayer","filterSize","numFilters","activationFunction","localFilterSize","setLocalFilterSize","useState","localNumFilters","setLocalNumFilters","localActivationFunction","setLocalActivationFunction","handleFilterSizeChange","event","Number","target","value","handleNumFiltersChange","handleActivationFunctionChange","className","marginTop","type","onChange","backgroundColor","border","padding","borderRadius","width","marginLeft","OutputLayer","outputShape","ConcatLayer","layers","length","LinearLayer","inputSize","outputSize","bias","activation","minWidth","textAlign","fontWeight","marginBottom","FlattenLayer","startDim","endDim","MaxPoolLayer","poolSize","stride","layerComponentMap","defaultParams","Canvas","React","forwardRef","props","ref","setLayers","connections","setConnections","draggedId","setDraggedId","dragOffset","setDragOffset","x","y","connecting","setConnecting","from","to","selectedLayerId","setSelectedLayerId","connectionPreview","setConnectionPreview","nearbyHandle","setNearbyHandle","canvasTransform","setCanvasTransform","scale","isPanning","setIsPanning","panStart","setPanStart","canvasRef","useRef","contentRef","useEffect","handleKeyDown","e","activeElement","document","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","key","prev","filter","l","id","conn","preventDefault","addEventListener","removeEventListener","handleWheel","useCallback","cancelable","current","rect","getBoundingClientRect","mouseX","clientX","left","mouseY","clientY","top","delta","deltaY","scaleFactor","Math","max","min","newX","newY","handlePanStart","button","ctrlKey","handlePanMove","_objectSpread","handlePanEnd","resetTransform","screenToCanvas","screenX","screenY","canvasToScreen","canvasX","canvasY","handleDrop","layer","includes","validLayerTypes","find","t","dropX","dropY","undefined","canvasCoords","parameters","handleMouseDown","HTMLLabelElement","offsetX","offsetY","stopPropagation","handleCanvasClick","handleMouseUp","handleMouseMove","map","fromLayer","fromPos","getHandlePosition","fromScreen","closestHandle","minDistance","forEach","inputPos","inputScreen","distance","sqrt","pow","targetLayer","targetPos","targetScreen","handleParamChange","param","convertedValue","isNaN","trim","split","v","_unused","handleConnectionStart","console","log","handleConnectionEnd","connectingFrom","existingConnectionIndex","findIndex","_","index","fromId","getModelData","position","connection","useImperativeHandle","updateNodeWidth","layerId","element","currentWidth","offsetWidth","existingLayer","querySelector","concat","HTMLDivElement","nodeWidth","getLayerCenter","renderConnections","connectionLines","toLayer","toScreen","x1","y1","x2","y2","stroke","strokeWidth","markerEnd","previewLine","strokeDasharray","height","pointerEvents","zIndex","markerWidth","markerHeight","refX","refY","orient","points","fill","overflow","cursor","onWheel","onMouseDown","onMouseMove","onMouseUp","onClick","onDragOver","onDrop","_canvasRef$current","data","dataTransfer","getData","JSON","parse","error","tabIndex","right","display","flexDirection","gap","background","round","bottom","transform","transformOrigin","LayerComponent","isSelected","isConnecting","isNearbyTarget","paramInputs","Object","keys","displayValue","Array","isArray","String","placeholder","onFocus","boxShadow","transition","title","WebkitUserSelect","MozUserSelect","msUserSelect","LayerLibrary","name","icon","handleDragStart","layerType","layerData","Date","now","random","setData","stringify","borderRight","overflowY","draggable","onDragStart","alignItems","currentTarget","onMouseOver","onMouseOut","PropertiesPanel","Toolbar","onExport","onImport","justifyContent","borderBottom","App","exportStatus","setExportStatus","isExporting","message","isError","handleExport","modelData","apiUrl","response","fetch","method","headers","body","ok","Error","status","result","json","success","blob","Blob","url","URL","createObjectURL","a","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","setTimeout","opacity","flex","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from 'react';\n\ninterface InputLayerProps {\n    inputShape?: number[];\n}\n\nconst InputLayer: React.FC<InputLayerProps> = ({ inputShape = [28, 28, 1] }) => {\n    return (\n        <div style={{ userSelect: 'none' }}>\n            <h4 style={{ margin: 0, fontSize: 14, color: '#ffffff', userSelect: 'none' }}>Input Layer</h4>\n            <div style={{ fontSize: 12, color: '#ccc', userSelect: 'none' }}>\n                Shape: [{inputShape.join(', ')}]\n            </div>\n        </div>\n    );\n};\n\nexport default InputLayer;","import React, { useState } from 'react';\n\ninterface Conv2DLayerProps {\n    filterSize?: number;\n    numFilters?: number;\n    activationFunction?: string;\n}\n\nconst Conv2DLayer: React.FC<Conv2DLayerProps> = ({ \n    filterSize = 3, \n    numFilters = 32, \n    activationFunction = 'relu' \n}) => {\n    const [localFilterSize, setLocalFilterSize] = useState(filterSize);\n    const [localNumFilters, setLocalNumFilters] = useState(numFilters);\n    const [localActivationFunction, setLocalActivationFunction] = useState(activationFunction);\n\n    const handleFilterSizeChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setLocalFilterSize(Number(event.target.value));\n    };\n\n    const handleNumFiltersChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setLocalNumFilters(Number(event.target.value));\n    };\n\n    const handleActivationFunctionChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        setLocalActivationFunction(event.target.value);\n    };\n\n    return (\n        <div className=\"conv2d-layer\" style={{ userSelect: 'none' }}>\n            <h3 style={{ color: '#ffffff', margin: 0, fontSize: 14, userSelect: 'none' }}>Conv2D Layer</h3>\n            <div style={{ marginTop: 8, userSelect: 'none' }}>\n                <label style={{ color: '#ccc', fontSize: 12, userSelect: 'none' }}>Filter Size:</label>\n                <input \n                    type=\"number\" \n                    value={localFilterSize} \n                    onChange={handleFilterSizeChange}\n                    style={{\n                        backgroundColor: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#ffffff',\n                        padding: '2px 4px',\n                        borderRadius: '2px',\n                        width: '60px',\n                        marginLeft: '4px'\n                    }}\n                />\n            </div>\n            <div style={{ marginTop: 4, userSelect: 'none' }}>\n                <label style={{ color: '#ccc', fontSize: 12, userSelect: 'none' }}>Number of Filters:</label>\n                <input \n                    type=\"number\" \n                    value={localNumFilters} \n                    onChange={handleNumFiltersChange}\n                    style={{\n                        backgroundColor: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#ffffff',\n                        padding: '2px 4px',\n                        borderRadius: '2px',\n                        width: '60px',\n                        marginLeft: '4px'\n                    }}\n                />\n            </div>\n            <div style={{ marginTop: 4, userSelect: 'none' }}>\n                <label style={{ color: '#ccc', fontSize: 12, userSelect: 'none' }}>Activation Function:</label>\n                <select \n                    value={localActivationFunction} \n                    onChange={handleActivationFunctionChange}\n                    style={{\n                        backgroundColor: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#ffffff',\n                        padding: '2px 4px',\n                        borderRadius: '2px',\n                        marginLeft: '4px'\n                    }}\n                >\n                    <option value=\"relu\">ReLU</option>\n                    <option value=\"sigmoid\">Sigmoid</option>\n                    <option value=\"tanh\">Tanh</option>\n                </select>\n            </div>\n            <div style={{ fontSize: 12, color: '#888', marginTop: 8, userSelect: 'none' }}>\n                <div>Filters: {localNumFilters}</div>\n                <div>Size: {localFilterSize}x{localFilterSize}</div>\n                <div>Activation: {localActivationFunction}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default Conv2DLayer;","import React from 'react';\n\ninterface OutputLayerProps {\n    outputShape?: number[];\n    activationFunction?: string;\n}\n\nconst OutputLayer: React.FC<OutputLayerProps> = ({ \n    outputShape = [10], \n    activationFunction = 'softmax' \n}) => {\n    return (\n        <div style={{ userSelect: 'none' }}>\n            <h4 style={{ margin: 0, fontSize: 14, color: '#ffffff', userSelect: 'none' }}>Output Layer</h4>\n            <div style={{ fontSize: 12, color: '#ccc', userSelect: 'none' }}>\n                <div>Shape: [{outputShape.join(', ')}]</div>\n                <div>Activation: {activationFunction}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default OutputLayer;","import React from 'react';\n\ninterface ConcatLayerProps {\n    layers?: any[];\n}\n\nconst ConcatLayer: React.FC<ConcatLayerProps> = ({ layers = [] }) => {\n    return (\n        <div style={{ userSelect: 'none' }}>\n            <h4 style={{ margin: 0, fontSize: 14, color: '#ffffff', userSelect: 'none' }}>Concat Layer</h4>\n            <div style={{ fontSize: 12, color: '#ccc', userSelect: 'none' }}>\n                Inputs: {layers.length}\n            </div>\n        </div>\n    );\n};\n\nexport default ConcatLayer;","import React from 'react';\r\n\r\ninterface LinearLayerProps {\r\n    inputSize?: number;\r\n    outputSize?: number;\r\n    bias?: boolean;\r\n    activation?: string;\r\n}\r\n\r\nconst LinearLayer: React.FC<LinearLayerProps> = ({ \r\n    inputSize = 128, \r\n    outputSize = 64, \r\n    bias = true,\r\n    activation = 'none'\r\n}) => {\r\n    return (\r\n        <div style={{\r\n            padding: '8px',\r\n            backgroundColor: '#2a2a2a',\r\n            borderRadius: '4px',\r\n            minWidth: '120px',\r\n            textAlign: 'center'\r\n        }}>\r\n            <div style={{ fontWeight: 'bold', marginBottom: '4px', color: '#4caf50' }}>\r\n                Linear Layer\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#ccc' }}>\r\n                Input: {inputSize}\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#ccc' }}>\r\n                Output: {outputSize}\r\n            </div>\r\n            <div style={{ fontSize: '10px', color: '#888', marginTop: '4px' }}>\r\n                Bias: {bias ? 'Yes' : 'No'}\r\n            </div>\r\n            {activation !== 'none' && (\r\n                <div style={{ fontSize: '10px', color: '#888' }}>\r\n                    Activation: {activation}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LinearLayer;\r\n","  import React from 'react';\r\n\r\ninterface FlattenLayerProps {\r\n    startDim?: number;\r\n    endDim?: number;\r\n}\r\n\r\nconst FlattenLayer: React.FC<FlattenLayerProps> = ({ \r\n    startDim = 1, \r\n    endDim = -1\r\n}) => {\r\n    return (\r\n        <div style={{\r\n            padding: '8px',\r\n            backgroundColor: '#2a2a2a',\r\n            borderRadius: '4px',\r\n            minWidth: '120px',\r\n            textAlign: 'center'\r\n        }}>\r\n            <div style={{ fontWeight: 'bold', marginBottom: '4px', color: '#ff9800' }}>\r\n                Flatten Layer\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#ccc' }}>\r\n                Reshape to 1D\r\n            </div>\r\n            <div style={{ fontSize: '10px', color: '#888', marginTop: '4px' }}>\r\n                Start Dim: {startDim}\r\n            </div>\r\n            <div style={{ fontSize: '10px', color: '#888' }}>\r\n                End Dim: {endDim === -1 ? 'Last' : endDim}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FlattenLayer;\r\n","import React from 'react';\r\n\r\ninterface MaxPoolLayerProps {\r\n    poolSize?: number;\r\n    stride?: number;\r\n    padding?: string;\r\n}\r\n\r\nconst MaxPoolLayer: React.FC<MaxPoolLayerProps> = ({ \r\n    poolSize = 2, \r\n    stride = 2,\r\n    padding = 'valid'\r\n}) => {\r\n    return (\r\n        <div style={{\r\n            padding: '8px',\r\n            backgroundColor: '#2a2a2a',\r\n            borderRadius: '4px',\r\n            minWidth: '120px',\r\n            textAlign: 'center'\r\n        }}>\r\n            <div style={{ fontWeight: 'bold', marginBottom: '4px', color: '#42a5f5' }}>\r\n                MaxPool Layer\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#ccc' }}>\r\n                Pool Size: {poolSize}{poolSize}\r\n            </div>\r\n            <div style={{ fontSize: '12px', color: '#ccc' }}>\r\n                Stride: {stride}\r\n            </div>\r\n            <div style={{ fontSize: '10px', color: '#888', marginTop: '4px' }}>\r\n                Padding: {padding}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MaxPoolLayer;\r\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport InputLayer from '../layers/InputLayer';\nimport Conv2DLayer from '../layers/Conv2DLayer';\nimport OutputLayer from '../layers/OutputLayer';\nimport ConcatLayer from '../layers/ConcatLayer';\nimport LinearLayer from '../layers/LinearLayer';\nimport FlattenLayer from '../layers/FlattenLayer';\nimport MaxPoolLayer from '../layers/MaxPoolLayer';\n\ntype LayerType = 'InputLayer' | 'Conv2DLayer' | 'OutputLayer' | 'ConcatLayer' | 'LinearLayer' | 'FlattenLayer' | 'MaxPoolLayer';\n\ninterface LayerProps {\n    [key: string]: any;\n}\n\nconst layerComponentMap: Record<LayerType, React.ComponentType<LayerProps>> = {\n    InputLayer: InputLayer,\n    Conv2DLayer: Conv2DLayer,\n    OutputLayer: OutputLayer,\n    ConcatLayer: ConcatLayer,\n    LinearLayer: LinearLayer,\n    FlattenLayer: FlattenLayer,\n    MaxPoolLayer: MaxPoolLayer,\n};\n\nconst defaultParams: Record<LayerType, Record<string, any>> = {\n    InputLayer: { inputShape: [28, 28, 1] },\n    Conv2DLayer: { filterSize: 3, numFilters: 32, activationFunction: 'relu' },\n    OutputLayer: { outputShape: [10], activationFunction: 'softmax' },\n    ConcatLayer: { layers: [] },\n    LinearLayer: { inputSize: 128, outputSize: 64, bias: true, activation: 'relu' },\n    FlattenLayer: { startDim: 1, endDim: -1 },\n    MaxPoolLayer: { poolSize: 2, stride: 2, padding: 'valid' },\n};\n\ninterface DroppedLayer {\n    type: LayerType;\n    id: number;\n    parameters: Record<string, any>;\n    x: number;\n    y: number;\n    selected?: boolean;\n    width?: number; // Add width property\n}\n\ninterface Connection {\n    from: number;\n    to: number;\n}\n\nconst Canvas = React.forwardRef<{getModelData: () => any}, React.PropsWithChildren<{}>>((props, ref) => {\n    const [layers, setLayers] = useState<DroppedLayer[]>([]);\n    const [connections, setConnections] = useState<Connection[]>([]);\n    const [draggedId, setDraggedId] = useState<number | null>(null);\n    const [dragOffset, setDragOffset] = useState<{ x: number; y: number }>({ x: 0, y: 0 });\n    const [connecting, setConnecting] = useState<{ from: number | null, to: number | null }>({ from: null, to: null });\n    const [selectedLayerId, setSelectedLayerId] = useState<number | null>(null);\n    const [connectionPreview, setConnectionPreview] = useState<{ from: { x: number; y: number }, to: { x: number; y: number } } | null>(null);\n    const [nearbyHandle, setNearbyHandle] = useState<number | null>(null);\n    \n    // Canvas transform state\n    const [canvasTransform, setCanvasTransform] = useState({ \n        x: 0, \n        y: 0, \n        scale: 1 \n    });\n    const [isPanning, setIsPanning] = useState(false);\n    const [panStart, setPanStart] = useState({ x: 0, y: 0 });\n    \n    const canvasRef = useRef<HTMLDivElement>(null);\n    const contentRef = useRef<HTMLDivElement>(null);\n\n    // Keyboard event handler for deleting selected nodes\n    useEffect(() => {\n        const handleKeyDown = (e: KeyboardEvent) => {\n            // Don't delete if user is typing in an input field\n            const activeElement = document.activeElement;\n            if (activeElement instanceof HTMLInputElement || \n                activeElement instanceof HTMLTextAreaElement || \n                activeElement instanceof HTMLSelectElement) {\n                return;\n            }\n\n            if ((e.key === 'Delete' || e.key === 'Backspace') && selectedLayerId !== null) {\n                // Remove the selected layer\n                setLayers(prev => prev.filter(l => l.id !== selectedLayerId));\n                // Remove all connections involving this layer\n                setConnections(prev => prev.filter(\n                    conn => conn.from !== selectedLayerId && conn.to !== selectedLayerId\n                ));\n                setSelectedLayerId(null);\n                e.preventDefault();\n            }\n        };\n\n        document.addEventListener('keydown', handleKeyDown);\n        return () => document.removeEventListener('keydown', handleKeyDown);\n    }, [selectedLayerId]);\n\n    // Zoom and pan controls - reduced sensitivity\n    const handleWheel = useCallback((e: React.WheelEvent) => {\n        // Only call preventDefault if needed and if it's not a passive listener\n        if (e.cancelable) {\n            e.preventDefault();\n        }\n        \n        if (!canvasRef.current) return;\n        \n        const rect = canvasRef.current.getBoundingClientRect();\n        const mouseX = e.clientX - rect.left;\n        const mouseY = e.clientY - rect.top;\n        \n        // Reduced sensitivity: changed from -0.01 to -0.001\n        const delta = e.deltaY * -0.001;\n        const scaleFactor = Math.max(0.1, Math.min(3, canvasTransform.scale + delta));\n        \n        // Calculate new position to zoom towards mouse position\n        const newX = mouseX - (mouseX - canvasTransform.x) * (scaleFactor / canvasTransform.scale);\n        const newY = mouseY - (mouseY - canvasTransform.y) * (scaleFactor / canvasTransform.scale);\n        \n        setCanvasTransform({\n            x: newX,\n            y: newY,\n            scale: scaleFactor\n        });\n    }, [canvasTransform]);\n\n    const handlePanStart = useCallback((e: React.MouseEvent) => {\n        // Only start panning if middle mouse button or space + left click\n        if (e.button === 1 || (e.button === 0 && e.ctrlKey)) {\n            e.preventDefault();\n            setIsPanning(true);\n            setPanStart({ x: e.clientX - canvasTransform.x, y: e.clientY - canvasTransform.y });\n        }\n    }, [canvasTransform]);\n\n    const handlePanMove = useCallback((e: React.MouseEvent) => {\n        if (isPanning) {\n            e.preventDefault();\n            setCanvasTransform(prev => ({\n                ...prev,\n                x: e.clientX - panStart.x,\n                y: e.clientY - panStart.y\n            }));\n        }\n    }, [isPanning, panStart]);\n\n    const handlePanEnd = useCallback(() => {\n        setIsPanning(false);\n    }, []);\n\n    // Reset zoom and pan\n    const resetTransform = useCallback(() => {\n        setCanvasTransform({ x: 0, y: 0, scale: 1 });\n    }, []);\n\n    // Convert screen coordinates to canvas coordinates\n    const screenToCanvas = useCallback((screenX: number, screenY: number) => {\n        return {\n            x: (screenX - canvasTransform.x) / canvasTransform.scale,\n            y: (screenY - canvasTransform.y) / canvasTransform.scale\n        };\n    }, [canvasTransform]);\n\n    // Convert canvas coordinates to screen coordinates\n    const canvasToScreen = useCallback((canvasX: number, canvasY: number) => {\n        return {\n            x: canvasX * canvasTransform.scale + canvasTransform.x,\n            y: canvasY * canvasTransform.scale + canvasTransform.y\n        };\n    }, [canvasTransform]);\n\n    // Add new layer at the mouse drop position - fixed for transforms\n    const handleDrop = (layer: { type: string; id: number; x?: number; y?: number }) => {\n        // Only allow valid LayerType\n        if (!['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer', 'LinearLayer', 'FlattenLayer', 'MaxPoolLayer'].includes(layer.type)) {\n            return;\n        }\n        \n        const validLayerTypes: LayerType[] = ['InputLayer', 'Conv2DLayer', 'OutputLayer', 'ConcatLayer', 'LinearLayer', 'FlattenLayer', 'MaxPoolLayer'];\n        const type = validLayerTypes.find(t => t === layer.type);\n        \n        if (!type) {\n            return;\n        }\n\n        // Convert drop position to canvas coordinates if provided\n        let dropX = 100;\n        let dropY = 100;\n        \n        if (layer.x !== undefined && layer.y !== undefined) {\n            const canvasCoords = screenToCanvas(layer.x, layer.y);\n            dropX = canvasCoords.x;\n            dropY = canvasCoords.y;\n        }\n        \n        setLayers(prev => [\n            ...prev,\n            {\n                ...layer,\n                type: type,\n                parameters: { ...defaultParams[type] },\n                x: dropX,\n                y: dropY,\n            },\n        ]);\n    };\n\n    // Improved drag logic with input element detection and selection\n    const handleMouseDown = (id: number, e: React.MouseEvent) => {\n        // Prevent dragging if clicking on input elements, labels, or select elements\n        const target = e.target;\n        if (target instanceof HTMLInputElement || \n            target instanceof HTMLLabelElement || \n            target instanceof HTMLSelectElement) {\n            return;\n        }\n\n        // Don't start dragging if we're connecting or panning\n        if (connecting.from !== null || isPanning) {\n            return;\n        }\n\n        // Set selected layer\n        setSelectedLayerId(id);\n\n        if (!canvasRef.current) return;\n        \n        const layer = layers.find(l => l.id === id);\n        if (!layer) return;\n        \n        const rect = canvasRef.current.getBoundingClientRect();\n        const screenX = e.clientX - rect.left;\n        const screenY = e.clientY - rect.top;\n        const canvasCoords = screenToCanvas(screenX, screenY);\n        \n        // Calculate offset from mouse position to layer's top-left corner\n        const offsetX = canvasCoords.x - layer.x;\n        const offsetY = canvasCoords.y - layer.y;\n        \n        setDraggedId(id);\n        setDragOffset({ x: offsetX, y: offsetY });\n        e.stopPropagation();\n    };\n\n    // Click outside to deselect\n    const handleCanvasClick = (e: React.MouseEvent) => {\n        if (e.target === canvasRef.current) {\n            setSelectedLayerId(null);\n        }\n    };\n\n    const handleMouseUp = () => {\n        setDraggedId(null);\n        setDragOffset({ x: 0, y: 0 });\n        handlePanEnd();\n        \n        // End connection if we're connecting\n        if (connecting.from !== null) {\n            setConnecting({ from: null, to: null });\n            setConnectionPreview(null);\n            setNearbyHandle(null);\n        }\n    };\n\n    const handleMouseMove = (e: React.MouseEvent) => {\n        if (!canvasRef.current) return;\n        \n        const rect = canvasRef.current.getBoundingClientRect();\n        const screenX = e.clientX - rect.left;\n        const screenY = e.clientY - rect.top;\n        const canvasCoords = screenToCanvas(screenX, screenY);\n\n        // Handle panning\n        handlePanMove(e);\n\n        // Handle node dragging\n        if (draggedId !== null && !isPanning) {\n            const x = canvasCoords.x - dragOffset.x;\n            const y = canvasCoords.y - dragOffset.y;\n            setLayers(prev => prev.map(l => l.id === draggedId ? { ...l, x, y } : l));\n        }\n\n        // Handle connection preview\n        if (connecting.from !== null) {\n            const fromLayer = layers.find(l => l.id === connecting.from);\n            if (fromLayer) {\n                const fromPos = getHandlePosition(fromLayer, 'output');\n                const fromScreen = canvasToScreen(fromPos.x, fromPos.y);\n                \n                // Check for nearby input handles\n                let closestHandle: number | null = null;\n                let minDistance = 30; // Snap distance\n                \n                layers.forEach(layer => {\n                    if (layer.id !== connecting.from) {\n                        const inputPos = getHandlePosition(layer, 'input');\n                        const inputScreen = canvasToScreen(inputPos.x, inputPos.y);\n                        const distance = Math.sqrt(\n                            Math.pow(screenX - inputScreen.x, 2) + Math.pow(screenY - inputScreen.y, 2)\n                        );\n                        \n                        if (distance < minDistance) {\n                            minDistance = distance;\n                            closestHandle = layer.id;\n                        }\n                    }\n                });\n                \n                setNearbyHandle(closestHandle);\n                \n                // Set preview line (in screen coordinates for SVG)\n                if (closestHandle) {\n                    const targetLayer = layers.find(l => l.id === closestHandle);\n                    if (targetLayer) {\n                        const targetPos = getHandlePosition(targetLayer, 'input');\n                        const targetScreen = canvasToScreen(targetPos.x, targetPos.y);\n                        setConnectionPreview({\n                            from: fromScreen,\n                            to: targetScreen\n                        });\n                    }\n                } else {\n                    setConnectionPreview({\n                        from: fromScreen,\n                        to: { x: screenX, y: screenY }\n                    });\n                }\n            }\n        }\n    };\n\n    // Inline parameter editing with proper type conversion\n    const handleParamChange = (id: number, param: string, value: string) => {\n        setLayers(prev => prev.map(l => {\n            if (l.id === id) {\n                let convertedValue: any = value;\n                \n                // Convert numeric strings to numbers\n                if (!isNaN(Number(value)) && value.trim() !== '') {\n                    convertedValue = Number(value);\n                }\n                \n                // Handle array inputs (for inputShape, outputShape)\n                if (param.includes('Shape') && typeof value === 'string') {\n                    try {\n                        // Parse comma-separated values as array\n                        convertedValue = value.split(',').map(v => Number(v.trim())).filter(v => !isNaN(v));\n                    } catch {\n                        convertedValue = value;\n                    }\n                }\n                \n                return { ...l, parameters: { ...l.parameters, [param]: convertedValue } };\n            }\n            return l;\n        }));\n    };\n\n    // Connection logic with handles\n    const handleConnectionStart = (id: number, type: 'input' | 'output', e: React.MouseEvent) => {\n        console.log('Connection start:', { id, type }); // Debug log\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if (type === 'output') {\n            setConnecting({ from: id, to: null });\n            console.log('Started connecting from node:', id); // Debug log\n        }\n    };\n\n    const handleConnectionEnd = (id: number, type: 'input' | 'output', e: React.MouseEvent) => {\n        console.log('Connection end:', { id, type, connectingFrom: connecting.from }); // Debug log\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if (type === 'input' && connecting.from !== null && connecting.from !== id) {\n            // Check if connection already exists\n            const existingConnectionIndex = connections.findIndex(\n                conn => conn.from === connecting.from && conn.to === id\n            );\n            \n            if (existingConnectionIndex !== -1) {\n                // Disconnect if connection exists\n                console.log('Removing existing connection'); // Debug log\n                setConnections(prev => prev.filter((_, index) => index !== existingConnectionIndex));\n            } else {\n                // Connect if no connection exists\n                console.log('Creating new connection from', connecting.from, 'to', id); // Debug log\n                const fromId: number = connecting.from;\n                setConnections(prev => [...prev, { from: fromId, to: id }]);\n            }\n        }\n        \n        // Always clear connection state\n        setConnecting({ from: null, to: null });\n        setConnectionPreview(null);\n        setNearbyHandle(null);\n    };\n\n    // Function to get all model data for export\n    const getModelData = () => {\n        return {\n            layers: layers.map(layer => ({\n                id: layer.id,\n                type: layer.type,\n                parameters: layer.parameters,\n                position: { x: layer.x, y: layer.y }\n            })),\n            connections: connections.map(connection => ({\n                from: connection.from,\n                to: connection.to\n            }))\n        };\n    };\n    \n    // Expose the getModelData function via ref\n    React.useImperativeHandle(ref, () => ({\n        getModelData\n    }));\n    \n    // Function to update node width after render - optimized to prevent infinite loops\n    const updateNodeWidth = useCallback((layerId: number, element: HTMLDivElement | null) => {\n        if (element) {\n            const currentWidth = element.offsetWidth;\n            \n            // Only update if width has actually changed\n            setLayers(prev => {\n                const existingLayer = prev.find(layer => layer.id === layerId);\n                if (existingLayer && existingLayer.width !== currentWidth) {\n                    return prev.map(layer => \n                        layer.id === layerId \n                            ? { ...layer, width: currentWidth }\n                            : layer\n                    );\n                }\n                return prev;\n            });\n        }\n    }, []);\n\n    // Use useEffect to measure width after initial render instead of ref callback\n    useEffect(() => {\n        layers.forEach(layer => {\n            if (!layer.width) {\n                const element = document.querySelector(`[data-layer-id=\"${layer.id}\"]`);\n                if (element && element instanceof HTMLDivElement) {\n                    const width = element.offsetWidth;\n                    setLayers(prev => prev.map(l => \n                        l.id === layer.id ? { ...l, width } : l\n                    ));\n                }\n            }\n        });\n    }, [layers.length]); // Only run when number of layers changes\n\n    // Helper function to get handle positions - using actual width\n    const getHandlePosition = (layer: DroppedLayer, type: 'input' | 'output') => {\n        if (type === 'input') {\n            return {\n                x: layer.x - 8,\n                y: layer.y + 50\n            };\n        } else {\n            const nodeWidth = layer.width || 270;\n            return {\n                x: layer.x + nodeWidth + 8,\n                y: layer.y + 50\n            };\n        }\n    };\n\n    // Update connection line positions to connect handles\n    const getLayerCenter = (layer: DroppedLayer) => {\n        return {\n            x: layer.x + 60,\n            y: layer.y + 50\n        };\n    };\n\n    // Updated render connections to use screen coordinates\n    const renderConnections = () => {\n        const connectionLines = connections.map((connection, index) => {\n            const fromLayer = layers.find(l => l.id === connection.from);\n            const toLayer = layers.find(l => l.id === connection.to);\n            \n            if (!fromLayer || !toLayer) return null;\n            \n            const from = getHandlePosition(fromLayer, 'output');\n            const to = getHandlePosition(toLayer, 'input');\n            const fromScreen = canvasToScreen(from.x, from.y);\n            const toScreen = canvasToScreen(to.x, to.y);\n            \n            return (\n                <line\n                    key={`connection-${index}`}\n                    x1={fromScreen.x}\n                    y1={fromScreen.y}\n                    x2={toScreen.x}\n                    y2={toScreen.y}\n                    stroke=\"#007acc\"\n                    strokeWidth={2}\n                    markerEnd=\"url(#arrowhead)\"\n                />\n            );\n        });\n\n        // Add preview connection\n        const previewLine = connectionPreview && (\n            <line\n                key=\"preview\"\n                x1={connectionPreview.from.x}\n                y1={connectionPreview.from.y}\n                x2={connectionPreview.to.x}\n                y2={connectionPreview.to.y}\n                stroke={nearbyHandle ? \"#4caf50\" : \"#ffa726\"}\n                strokeWidth={2}\n                strokeDasharray=\"5,5\"\n                markerEnd=\"url(#previewArrowhead)\"\n            />\n        );\n\n        return (\n            <svg\n                style={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    width: '100%',\n                    height: '100%',\n                    pointerEvents: 'none',\n                    zIndex: 15 // Higher than canvas content but lower than handles\n                }}\n            >\n                <defs>\n                    <marker\n                        id=\"arrowhead\"\n                        markerWidth=\"10\"\n                        markerHeight=\"7\"\n                        refX=\"9\"\n                        refY=\"3.5\"\n                        orient=\"auto\"\n                    >\n                        <polygon\n                            points=\"0 0, 10 3.5, 0 7\"\n                            fill=\"#007acc\"\n                        />\n                    </marker>\n                    <marker\n                        id=\"previewArrowhead\"\n                        markerWidth=\"10\"\n                        markerHeight=\"7\"\n                        refX=\"9\"\n                        refY=\"3.5\"\n                        orient=\"auto\"\n                    >\n                        <polygon\n                            points=\"0 0, 10 3.5, 0 7\"\n                            fill={nearbyHandle ? \"#4caf50\" : \"#ffa726\"}\n                        />\n                    </marker>\n                </defs>\n                {connectionLines}\n                {previewLine}\n            </svg>\n        );\n    };\n\n    return (\n        <div\n            className=\"canvas\"\n            ref={canvasRef}\n            style={{ \n                height: '100%', // Change from minHeight to height for full expansion\n                width: '100%',\n                border: '1px solid #000000ff', \n                position: 'relative', \n                overflow: 'hidden',\n                backgroundColor: '#171717ff',\n                cursor: isPanning ? 'grabbing' : connecting.from !== null ? 'crosshair' : 'default'\n            }}\n            onWheel={handleWheel}\n            onMouseDown={handlePanStart}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onClick={handleCanvasClick}\n            onDragOver={(e) => e.preventDefault()}\n            onDrop={(e) => {\n                e.preventDefault();\n                try {\n                    const data = e.dataTransfer.getData('text/plain');\n                    const layer = JSON.parse(data);\n                    \n                    // Calculate drop position relative to canvas\n                    const rect = canvasRef.current?.getBoundingClientRect();\n                    if (rect) {\n                        const x = e.clientX - rect.left;\n                        const y = e.clientY - rect.top;\n                        \n                        handleDrop({\n                            ...layer,\n                            x: x - 60,\n                            y: y - 50\n                        });\n                    }\n                } catch (error) {\n                    console.error('Failed to parse dropped data:', error);\n                }\n            }}\n            tabIndex={0}\n        >\n            {/* Zoom controls */}\n            <div style={{\n                position: 'absolute',\n                top: 10,\n                right: 10,\n                zIndex: 200,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 5,\n                background: '#0b0b0bff',\n                padding: 8,\n                borderRadius: 7,\n                border: '1px solid #555'\n            }}>\n                <button\n                    onClick={() => setCanvasTransform(prev => ({ ...prev, scale: Math.min(3, prev.scale * 1.2) }))}\n                    style={{\n                        background: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#fff',\n                        padding: '4px 8px',\n                        borderRadius: 2,\n                        cursor: 'pointer'\n                    }}\n                >\n                    +\n                </button>\n                <button\n                    onClick={() => setCanvasTransform(prev => ({ ...prev, scale: Math.max(0.1, prev.scale / 1.2) }))}\n                    style={{\n                        background: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#fff',\n                        padding: '4px 8px',\n                        borderRadius: 2,\n                        cursor: 'pointer'\n                    }}\n                >\n                    -\n                </button>\n                <button\n                    onClick={resetTransform}\n                    style={{\n                        background: '#3a3a3a',\n                        border: '1px solid #555',\n                        color: '#fff',\n                        padding: '4px 8px',\n                        borderRadius: 2,\n                        cursor: 'pointer',\n                        fontSize: 10\n                    }}\n                >\n                    Reset\n                </button>\n                <div style={{ color: '#ccc', fontSize: 10, textAlign: 'center' }}>\n                    {Math.round(canvasTransform.scale * 100)}%\n                </div>\n            </div>\n\n            {/* Help text */}\n            <div style={{\n                position: 'absolute',\n                bottom: 10,\n                left: 10,\n                color: '#888',\n                fontSize: 11,\n                background: 'rgba(45, 45, 45, 0.8)',\n                padding: '4px 8px',\n                borderRadius: 4,\n                zIndex: 200\n            }}>\n                Scroll to zoom  Ctrl+Click or Middle-click to pan<br/>\n                Click red dot then green dot to connect nodes\n            </div>\n\n            {/* Canvas content with transform */}\n            <div\n                ref={contentRef}\n                style={{\n                    transform: `translate(${canvasTransform.x}px, ${canvasTransform.y}px) scale(${canvasTransform.scale})`,\n                    transformOrigin: '0 0',\n                    position: 'absolute',\n                    width: '100%',\n                    height: '100%',\n                    zIndex: 10,\n                    pointerEvents: 'auto'\n                }}\n            >\n                {/* Render blocks */}\n                {layers.map((layer) => {\n                    const LayerComponent = layerComponentMap[layer.type];\n                    if (!LayerComponent) return null;\n                    \n                    const isSelected = selectedLayerId === layer.id;\n                    const isConnecting = connecting.from === layer.id;\n                    const isNearbyTarget = nearbyHandle === layer.id;\n                    \n                    // Inline parameter editing UI for demo\n                    const paramInputs = Object.keys(layer.parameters).map(param => {\n                        const value = layer.parameters[param];\n                        const displayValue = Array.isArray(value) ? value.join(', ') : String(value);\n                        \n                        return (\n                            <div key={param} style={{ marginBottom: 4 }}>\n                                <label style={{ fontSize: 12, color: '#ccc' }}>{param}: </label>\n                                <input\n                                    style={{ \n                                        fontSize: 12, \n                                        width: 80,\n                                        backgroundColor: '#3a3a3a',\n                                        border: '1px solid #555',\n                                        color: '#ffffff',\n                                        padding: '2px 4px',\n                                        borderRadius: '2px'\n                                    }}\n                                    value={displayValue}\n                                    onChange={e => handleParamChange(layer.id, param, e.target.value)}\n                                    placeholder={param.includes('Shape') ? \"e.g. 28, 28, 1\" : \"\"}\n                                    onMouseDown={(e) => e.stopPropagation()}\n                                    onFocus={(e) => e.stopPropagation()}\n                                />\n                            </div>\n                        );\n                    });\n                    \n                    return (\n                        <div key={layer.id}>\n                            {/* Input Handle */}\n                            <div\n                                style={{\n                                    position: 'absolute',\n                                    left: layer.x - 8,\n                                    top: layer.y + 42,\n                                    width: 16,\n                                    height: 16,\n                                    backgroundColor: isNearbyTarget ? '#81c784' : '#4caf50',\n                                    borderRadius: '50%',\n                                    border: '2px solid #ffffff',\n                                    cursor: 'pointer',\n                                    zIndex: 100,\n                                    boxShadow: isNearbyTarget ? '0 0 8px rgba(129, 199, 132, 0.8)' : '0 2px 4px rgba(0, 0, 0, 0.3)',\n                                    transform: isNearbyTarget ? 'scale(1.2)' : 'scale(1)',\n                                    transition: 'all 0.2s ease',\n                                    pointerEvents: 'auto'\n                                }}\n                                onMouseDown={(e) => {\n                                    console.log('Input handle mouse down'); // Debug log\n                                    handleConnectionStart(layer.id, 'input', e);\n                                }}\n                                onMouseUp={(e) => {\n                                    console.log('Input handle mouse up'); // Debug log\n                                    handleConnectionEnd(layer.id, 'input', e);\n                                }}\n                                onClick={(e) => {\n                                    console.log('Input handle clicked'); // Debug log\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                }}\n                                title=\"Input - Click to connect from another node's output\"\n                            />\n                            \n                            {/* Main Node */}\n                            <div\n                                data-layer-id={layer.id}\n                                style={{\n                                    position: 'absolute',\n                                    left: layer.x,\n                                    top: layer.y,\n                                    background: isConnecting ? '#1e3a5f' : isSelected ? '#3a3a3a' : '#2d2d2d',\n                                    border: isConnecting ? '2px solid #007acc' : isSelected ? '2px solid #ff6b6b' : '2px solid #555',\n                                    borderRadius: 8,\n                                    padding: 12,\n                                    minWidth: 120,\n                                    cursor: connecting.from !== null ? 'crosshair' : isPanning ? 'grabbing' : 'move',\n                                    zIndex: draggedId === layer.id ? 80 : 30, // Below handles\n                                    color: '#ffffff',\n                                    boxShadow: isSelected ? '0 0 10px rgba(255, 107, 107, 0.3)' : '0 2px 8px rgba(0, 0, 0, 0.3)',\n                                    userSelect: 'none',\n                                    WebkitUserSelect: 'none',\n                                    MozUserSelect: 'none',\n                                    msUserSelect: 'none',\n                                    pointerEvents: 'auto'\n                                }}\n                                onMouseDown={e => handleMouseDown(layer.id, e)}\n                            >\n                                <LayerComponent {...layer.parameters} />\n                                <div style={{ marginTop: 8, userSelect: 'none' }}>{paramInputs}</div>\n                            </div>\n                            \n                            {/* Output Handle */}\n                            <div\n                                style={{\n                                    position: 'absolute',\n                                    left: layer.x + (layer.width || 270) + 8,\n                                    top: layer.y + 42,\n                                    width: 16,\n                                    height: 16,\n                                    backgroundColor: '#f44336',\n                                    borderRadius: '50%',\n                                    border: '2px solid #ffffff',\n                                    cursor: 'pointer',\n                                    zIndex: 100,\n                                    boxShadow: connecting.from === layer.id ? '0 0 8px rgba(244, 67, 54, 0.8)' : '0 2px 4px rgba(0, 0, 0, 0.3)',\n                                    transform: connecting.from === layer.id ? 'scale(1.2)' : 'scale(1)',\n                                    transition: 'all 0.2s ease',\n                                    pointerEvents: 'auto'\n                                }}\n                                onMouseDown={(e) => {\n                                    console.log('Output handle mouse down'); // Debug log\n                                    handleConnectionStart(layer.id, 'output', e);\n                                }}\n                                onMouseUp={(e) => {\n                                    console.log('Output handle mouse up'); // Debug log\n                                    handleConnectionEnd(layer.id, 'output', e);\n                                }}\n                                onClick={(e) => {\n                                    console.log('Output handle clicked'); // Debug log\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                }}\n                                title=\"Output - Click and drag to connect to another node's output\"\n                            />\n                        </div>\n                    );\n                })}\n            </div>\n\n            {/* Render connection lines */}\n            {renderConnections()}\n        </div>\n    );\n});\n\nexport default Canvas;","import React from 'react';\n\nconst LayerLibrary: React.FC = () => {\n    const layers = [\n        { type: 'InputLayer', name: 'Input Layer', icon: '', color: '#315c4aff' },\n        { type: 'Conv2DLayer', name: 'Conv2D Layer', icon: '', color: '#315c4aff' },\n        { type: 'MaxPoolLayer', name: 'MaxPool Layer', icon: '', color: '#315c4aff' },\n        { type: 'FlattenLayer', name: 'Flatten Layer', icon: '', color: '#315c4aff' },\n        { type: 'LinearLayer', name: 'Linear Layer', icon: '', color: '#315c4aff' },\n        { type: 'OutputLayer', name: 'Output Layer', icon: '', color: '#315c4aff' },\n        { type: 'ConcatLayer', name: 'Concat Layer', icon: '', color: '#315c4aff' },\n    ];\n\n    const handleDragStart = (e: React.DragEvent, layerType: string) => {\n        const layerData = {\n            type: layerType,\n            id: Date.now() + Math.random()\n        };\n        e.dataTransfer.setData('text/plain', JSON.stringify(layerData));\n    };\n\n    return (\n        <div style={{\n            width: '250px',\n            backgroundColor: '#000000ff',\n            padding: '16px',\n            borderRight: '0px solid #000000ff',\n            height: 'calc(100vh - 80px)', // Adjust to match viewport height minus header\n            overflowY: 'auto'\n        }}>\n            <h3 style={{ \n                color: '#ffffff', \n                marginTop: 0, \n                marginBottom: '16px',\n                fontSize: '18px'\n            }}>\n                Layer Library\n            </h3>\n            \n            <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\n                {layers.map((layer) => (\n                    <div\n                        key={layer.type}\n                        draggable\n                        onDragStart={(e) => handleDragStart(e, layer.type)}\n                        style={{\n                            padding: '12px',\n                            backgroundColor: '#151515ff',\n                            border: `2px solid ${layer.color}`,\n                            borderRadius: '8px',\n                            cursor: 'grab',\n                            transition: 'all 0.2s ease',\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '12px'\n                        }}\n                        onMouseDown={(e) => e.currentTarget.style.cursor = 'grabbing'}\n                        onMouseUp={(e) => e.currentTarget.style.cursor = 'grab'}\n                        onMouseOver={(e) => {\n                            e.currentTarget.style.backgroundColor = '#151515ff';\n                            e.currentTarget.style.transform = 'translateY(-2px)';\n                        }}\n                        onMouseOut={(e) => {\n                            e.currentTarget.style.backgroundColor = '#000000ff';\n                            e.currentTarget.style.transform = 'translateY(0)';\n                        }}\n                    >\n                        <span style={{ fontSize: '20px' }}>{layer.icon}</span>\n                        <span style={{ \n                            color: '#ffffff', \n                            fontWeight: '500',\n                            fontSize: '14px'\n                        }}>\n                            {layer.name}\n                        </span>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default LayerLibrary;","import React from 'react';\n\nconst PropertiesPanel: React.FC = () => {\n    return (\n        <div style={{ \n            width: 200, \n            border: '1px solid #000000ff', \n            padding: 16, \n            background: '#000000ff',\n            color: '#ffffff',\n            height: 'calc(100vh - 80px)', // Match the height of LayerLibrary\n            overflowY: 'auto'\n        }}>\n            <h3 style={{ color: '#ffffff', marginTop: 0 }}>Properties</h3>\n            <p style={{ fontSize: 14, color: '#ccc' }}>\n                Select a layer to edit its properties\n            </p>\n        </div>\n    );\n};\n\nexport default PropertiesPanel;","import React from 'react';\n\ninterface ToolbarProps {\n  onExport?: () => void;\n  onImport?: () => void;\n}\n\nconst Toolbar: React.FC<ToolbarProps> = ({ onExport, onImport }) => {\n  return (\n    <div className=\"toolbar\" style={{\n      display: 'flex',\n      justifyContent: 'space-between',\n      padding: '10px 15px',\n      backgroundColor: '#000000ff',\n      borderBottom: '0px solid #333',\n    }}>\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <h2 style={{ margin: 0, fontSize: '20px', color: '#fff' }}>NN Builder</h2>\n      </div>\n      \n      <div style={{ display: 'flex', gap: '10px' }}>\n        {/* Import button */}\n        <button \n          onClick={onImport}\n          style={{\n            backgroundColor: '#315c4aff',\n            color: 'white',\n            border: 'none',\n            padding: '8px 16px',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '5px',\n            fontWeight: 'bold'\n          }}\n        >\n          <span>Import Model</span>\n        </button>\n        \n        {/* Export button */}\n        <button \n          onClick={onExport}\n          style={{\n            backgroundColor: '#315c4aff',\n            color: 'white',\n            border: 'none',\n            padding: '8px 16px',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '5px',\n            fontWeight: 'bold'\n          }}\n        >\n          <span>Export Model</span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;","import React, { useState, useRef } from 'react';\nimport Canvas from './components/canvas/Canvas';\nimport LayerLibrary from './components/sidebar/LayerLibrary';\nimport PropertiesPanel from './components/sidebar/PropertiesPanel';\nimport Toolbar from './components/controls/Toolbar';\n\nconst App: React.FC = () => {\n    // Add state to track export status\n    const [exportStatus, setExportStatus] = useState<{\n        isExporting: boolean;\n        message: string;\n        isError: boolean;\n    }>({\n        isExporting: false,\n        message: '',\n        isError: false\n    });\n    \n    // Reference to Canvas component to get model data\n    const canvasRef = useRef<any>(null);\n    \n    // Function to handle export\n    const handleExport = async () => {\n        if (!canvasRef.current) {\n            setExportStatus({\n                isExporting: false,\n                message: 'Canvas reference not available',\n                isError: true\n            });\n            return;\n        }\n        \n        try {\n            setExportStatus({\n                isExporting: true,\n                message: 'Exporting model...',\n                isError: false\n            });\n            \n            // Get model data from Canvas component\n            const modelData = canvasRef.current.getModelData();\n            \n            // Use relative URL that will work with tunneling\n            const apiUrl = '/api/export-model';\n            \n            const response = await fetch(apiUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(modelData),\n            });\n            \n            if (!response.ok) {\n                throw new Error(`Server responded with ${response.status}`);\n            }\n            \n            const result = await response.json();\n            \n            if (!result.success) {\n                throw new Error(result.message || 'Export failed');\n            }\n            \n            // Create a downloadable file from the Python code\n            const blob = new Blob([result.message], { type: 'text/plain' });\n            const url = URL.createObjectURL(blob);\n            \n            // Create a temporary link element to trigger download\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = 'neural_network_model.py';\n            document.body.appendChild(a);\n            a.click();\n            \n            // Clean up\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n            \n            setExportStatus({\n                isExporting: false,\n                message: 'Export successful! File downloaded.',\n                isError: false\n            });\n            \n            // Clear status message after 3 seconds\n            setTimeout(() => {\n                setExportStatus(prev => ({\n                    ...prev,\n                    message: ''\n                }));\n            }, 3000);\n            \n        } catch (error) {\n            console.error('Export failed:', error);\n            setExportStatus({\n                isExporting: false,\n                message: `Export failed: ${error instanceof Error ? error.message : 'Unknown error'}`,\n                isError: true\n            });\n        }\n    };\n\n    return (\n        <div className=\"app\" style={{ \n            height: '100vh', \n            display: 'flex', \n            flexDirection: 'column',\n            backgroundColor: '#000000ff',\n            color: '#ffffff'\n        }}>\n            <Toolbar onExport={handleExport} />\n            \n            {/* Status message */}\n            {exportStatus.message && (\n                <div style={{\n                    padding: '8px 16px',\n                    backgroundColor: exportStatus.isError ? '#f44336' : '#4caf50',\n                    color: 'white',\n                    textAlign: 'center',\n                    opacity: exportStatus.message ? 1 : 0,\n                    transition: 'opacity 0.3s',\n                }}>\n                    {exportStatus.message}\n                </div>\n            )}\n            \n            <div className=\"main-container\" style={{ \n                flex: 1, \n                display: 'flex', \n                overflow: 'hidden',\n                height: 'calc(100vh - 80px)' // Ensure it takes remaining space\n            }}>\n                <LayerLibrary />\n                <div style={{ \n                    flex: 1, \n                    position: 'relative', \n                    overflow: 'hidden',\n                    height: '100%' // Ensure the canvas container takes full height\n                }}>\n                    <Canvas ref={canvasRef} />\n                </div>\n                <PropertiesPanel />\n            </div>\n        </div>\n    );\n};\n\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './components/overrides.css'; // Add this import after other CSS imports\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","// extracted by mini-css-extract-plugin"]}}